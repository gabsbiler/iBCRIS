import{_ as T}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-e6035b98.js";import{k as _,A,r as D,q as o,o as M,b as N,w as m,p as l,U as R,$ as S,m as V,a0 as v,Z as U,R as c,Q as I,x as B,O as F}from"./main-be644d5f.js";import{a as O}from"./axios-60a05fd8.js";import{a as u,V as b}from"./VRow-bdebae90.js";import{V as P}from"./VForm-37319816.js";import{V as n}from"./VTextField-bd036a5d.js";import{V as p}from"./VSelect-95e11595.js";import{V as H}from"./VSnackbar-a4824b83.js";import"./VCounter-4048111b.js";import"./forwardRefs-9d31fcaa.js";import"./axios-4a70c6fc.js";import"./VList-b4de610e.js";import"./ssrBoot-a5814298.js";import"./VDivider-c092720c.js";import"./VMenu-9d117845.js";import"./VOverlay-e17ae491.js";import"./VCheckboxBtn-996d3c07.js";import"./VChip-30808de3.js";const $=V("b",null," DEATH INFORMATION ",-1),W=V("p",null,"Person who died in the last five years",-1),q={class:"mt-5"},ue={__name:"death",props:{member:Array,lookups:Array},setup(C){const k=C,e=_(k.member),i=_(k.lookups),f=_(),g=_(),r=_(!1);A();const x=async()=>{var h,t;try{const s=await O.post("/api/updateDeceasedMember",e.value.demographic);f.value=s.data.message,r.value=!0,g.value="success"}catch(s){console.error("There was an error updating the member:",s),f.value=((t=(h=s.response)==null?void 0:h.data)==null?void 0:t.message)||"An error occurred",r.value=!0,g.value="error"}},w=async()=>{e.value.demographic._27a=null,e.value.demographic._27b=null,e.value.demographic._27c=null,e.value.demographic._28=null,e.value.demographic._29=null,e.value.demographic._30=null,e.value.demographic._31=null,e.value.demographic._32=null,e.value.demographic._33=null,e.value.demographic._34=null,e.value.demographic._35=null,e.value.demographic._36=null,e.value.demographic._37=null,e.value.demographic._38=null};return(h,t)=>{const s=D("VText"),y=T;return o(e)&&o(i)?(M(),N(b,{key:0},{default:m(()=>[l(u,{cols:"12"},{default:m(()=>[l(R,null,{default:m(()=>[l(S,null,{default:m(()=>[l(P,null,{default:m(()=>[V("div",null,[l(s,null,{default:m(()=>[$,W]),_:1}),l(b,{class:"mt-2"},{default:m(()=>[l(u,{cols:"12",md:"4"},{default:m(()=>[l(n,{modelValue:o(e).demographic._27a,"onUpdate:modelValue":t[0]||(t[0]=a=>o(e).demographic._27a=a),label:"(27a) Surname"},null,8,["modelValue"])]),_:1}),l(u,{cols:"12",md:"4"},{default:m(()=>[l(n,{modelValue:o(e).demographic._27b,"onUpdate:modelValue":t[1]||(t[1]=a=>o(e).demographic._27b=a),label:"(27b) Given Name"},null,8,["modelValue"])]),_:1}),l(u,{cols:"12",md:"4"},{default:m(()=>[l(n,{modelValue:o(e).demographic._27c,"onUpdate:modelValue":t[2]||(t[2]=a=>o(e).demographic._27c=a),label:"(27c) Middle Name"},null,8,["modelValue"])]),_:1}),l(u,{md:"6",cols:"12"},{default:m(()=>{var a;return[l(p,{modelValue:o(e).demographic._28,"onUpdate:modelValue":t[3]||(t[3]=d=>o(e).demographic._28=d),label:"(28) Relationship of the deceased to the Household Head",items:(a=o(i).filter(d=>d.column_number==="28")[0])==null?void 0:a.lookup_list,"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),l(u,{md:"6",cols:"12"},{default:m(()=>{var a;return[l(p,{modelValue:o(e).demographic._29,"onUpdate:modelValue":t[4]||(t[4]=d=>o(e).demographic._29=d),label:"(29) Is __ Male or Female?",items:(a=o(i).filter(d=>d.column_number==="29")[0])==null?void 0:a.lookup_list,"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),l(u,{cols:"12",md:"4"},{default:m(()=>[l(y,{modelValue:o(e).demographic._30,"onUpdate:modelValue":t[5]||(t[5]=a=>o(e).demographic._30=a),label:"(30) Date of Birth"},null,8,["modelValue"])]),_:1}),l(u,{cols:"12",md:"4"},{default:m(()=>[l(y,{modelValue:o(e).demographic._31,"onUpdate:modelValue":t[6]||(t[6]=a=>o(e).demographic._31=a),label:"(31) Date of Death"},null,8,["modelValue"])]),_:1}),l(u,{md:"4",cols:"12"},{default:m(()=>[l(n,{modelValue:o(e).demographic._32,"onUpdate:modelValue":t[7]||(t[7]=a=>o(e).demographic._32=a),label:"(32) Age at the time of death"},null,8,["modelValue"])]),_:1}),l(u,{cols:"12"},{default:m(()=>[l(n,{modelValue:o(e).demographic._33,"onUpdate:modelValue":t[8]||(t[8]=a=>o(e).demographic._33=a),label:"(33) Place of Death (Municipal/City, Province)"},null,8,["modelValue"])]),_:1}),l(u,{cols:"12"},{default:m(()=>[l(n,{modelValue:o(e).demographic._34,"onUpdate:modelValue":t[9]||(t[9]=a=>o(e).demographic._34=a),label:"(34) What is __'s cause of death?"},null,8,["modelValue"])]),_:1}),l(u,{md:"6",cols:"12"},{default:m(()=>{var a;return[l(p,{modelValue:o(e).demographic._35,"onUpdate:modelValue":t[10]||(t[10]=d=>o(e).demographic._35=d),label:"(35) Is ____'s death registered with the LCRO?",items:(a=o(i).filter(d=>d.column_number==="35")[0])==null?void 0:a.lookup_list,"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),l(u,{md:"6",cols:"12"},{default:m(()=>{var a;return[l(p,{modelValue:o(e).demographic._36,"onUpdate:modelValue":t[11]||(t[11]=d=>o(e).demographic._36=d),label:"(36) Why was ___'s death not registered?",items:(a=o(i).filter(d=>d.column_number==="36")[0])==null?void 0:a.lookup_list,"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),l(u,{md:"6",cols:"12"},{default:m(()=>{var a;return[l(p,{modelValue:o(e).demographic._37,"onUpdate:modelValue":t[12]||(t[12]=d=>o(e).demographic._37=d),label:"(37) Is deceased female age 15-49?",items:(a=o(i).filter(d=>d.column_number==="37")[0])==null?void 0:a.lookup_list,"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),l(u,{md:"6",cols:"12"},{default:m(()=>{var a;return[l(p,{modelValue:o(e).demographic._38,"onUpdate:modelValue":t[13]||(t[13]=d=>o(e).demographic._38=d),label:"(38) Maternal Condition",items:(a=o(i).filter(d=>d.column_number==="38")[0])==null?void 0:a.lookup_list,"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1})]),_:1})]),V("div",q,[l(b,null,{default:m(()=>[l(u,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:m(()=>[l(v,{onClick:U(x,["prevent"])},{default:m(()=>[c(" Save changes ")]),_:1},8,["onClick"]),l(v,{color:"secondary",variant:"outlined",type:"reset",onClick:U(w,["prevent"])},{default:m(()=>[c(" Reset ")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),l(H,{modelValue:o(r),"onUpdate:modelValue":t[15]||(t[15]=a=>I(r)?r.value=a:null),location:"top center",variant:"flat",color:o(g)},{actions:m(()=>[l(v,{color:"white",onClick:t[14]||(t[14]=a=>r.value=!1)},{default:m(()=>[c(" Close ")]),_:1})]),default:m(()=>[c(B(o(f))+" ",1)]),_:1},8,["modelValue","color"])]),_:1})):F("",!0)}}};export{ue as default};
