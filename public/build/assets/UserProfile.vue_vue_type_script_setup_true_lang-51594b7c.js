import{d as p,B as _,k as V,o as y,b as I,w as t,q as a,a3 as n,aq as c,s as e,R as h,S as b,W as i,X as u,Y as s,y as r,a5 as v,V as x,aa as S}from"./main-27bf03b5.js";import{a as m}from"./avatar-1-3f757947.js";import{a as L,V as d}from"./VBadge-33f35446.js";const C=p({__name:"UserProfile",setup(A){_();const f=V(),g=async()=>{try{await S.get("/auth/logout"),localStorage.removeItem("userData"),localStorage.removeItem("accessToken"),localStorage.removeItem("userAbilities"),f.push("/login")}catch(l){console.error("Logout failed:",l)}},o=JSON.parse(localStorage.getItem("userData"));return console.log(o),(l,B)=>(y(),I(d,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[a(n,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>[a(c,{src:e(m)},null,8,["src"]),a(h,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[a(b,null,{default:t(()=>[a(i,null,{prepend:t(()=>[a(L,{start:""},{default:t(()=>[a(d,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[a(n,{color:"primary",variant:"tonal"},{default:t(()=>[a(c,{src:e(m)},null,8,["src"])]),_:1})]),_:1})]),_:1})]),default:t(()=>[a(u,{class:"font-weight-medium"},{default:t(()=>[s(r(e(o).name),1)]),_:1}),a(v,null,{default:t(()=>[s(r(e(o).role=="admin"?"Administrator":"")+" "+r(e(o).role=="brgyAdmin"?"Brgy. Administrator":"")+" "+r(e(o).role=="brgyEncoder"?"Brgy. Encoder":""),1)]),_:1})]),_:1}),a(i,{onClick:g},{prepend:t(()=>[a(x,{class:"me-2",icon:"mdi-logout",size:"22"})]),default:t(()=>[a(u,null,{default:t(()=>[s("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{C as _};
