import{bc as de,p as d,G as ce,b2 as B,aQ as I,k as M,B as z,bd as J,z as _,b7 as $,a9 as C,S as p,M as P,be as U,a7 as E,ad as Q,bf as fe,aJ as me,ak as ve,ab as L,aK as ge,F as A,V as be,a0 as D,R as Z,bg as ye,Z as X,bh as Y,am as j,bi as he,bj as pe,b1 as xe}from"./main-fc279098.js";import{V as K}from"./VCheckboxBtn-235bdab6.js";import{a as Se}from"./VSelect-fb21050d.js";import{m as we,u as ke}from"./VList-4e58f634.js";import{m as Pe,u as Ie}from"./filter-918d2526.js";import{V as Te}from"./VTable-59daa9b2.js";const W=de({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,n)=>{let{slots:a,attrs:t}=n;const l=e.tag??"td";return d(l,ce({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:B(e.height),width:B(e.width),left:B(e.fixedOffset||null)}},t),{default:()=>{var i;return[(i=a.default)==null?void 0:i.call(a)]}})}),Ve=I({headers:{type:Array,default:()=>[]}},"v-data-table-header"),ee=Symbol.for("vuetify:data-table-headers");function De(e,n){const a=M([]),t=M([]);z(()=>e.headers,()=>{var y,x,S;const i=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],u=i.flatMap((b,v)=>b.map(f=>({column:f,row:v}))),s=i.length,o={title:"",sortable:!1},c={...o,width:48};if((y=n==null?void 0:n.groupBy)!=null&&y.value.length){const b=u.findIndex(v=>{let{column:f}=v;return f.key==="data-table-group"});b<0?u.unshift({column:{...o,key:"data-table-group",title:"Group",rowspan:s},row:0}):u.splice(b,1,{column:{...o,...u[b].column},row:u[b].row})}if((x=n==null?void 0:n.showSelect)!=null&&x.value){const b=u.findIndex(v=>{let{column:f}=v;return f.key==="data-table-select"});b<0?u.unshift({column:{...c,key:"data-table-select",rowspan:s},row:0}):u.splice(b,1,{column:{...c,...u[b].column},row:u[b].row})}if((S=n==null?void 0:n.showExpand)!=null&&S.value){const b=u.findIndex(v=>{let{column:f}=v;return f.key==="data-table-expand"});b<0?u.push({column:{...c,key:"data-table-expand",rowspan:s},row:0}):u.splice(b,1,{column:{...c,...u[b].column},row:u[b].row})}const r=J(s).map(()=>[]),m=J(s).fill(0);let g=0;u.forEach(b=>{let{column:v,row:f}=b;const k=v.key??`data-table-column-${g++}`;for(let w=f;w<=f+(v.rowspan??1)-1;w++)r[w].push({...v,key:k,fixedOffset:m[w],sortable:v.sortable??!!v.key}),m[w]+=v.width??0}),r.forEach(b=>{for(let v=b.length;v--;v>=0)if(b[v].fixed){b[v].lastFixed=!0;return}});const h=new Set;a.value=r.map(b=>{const v=[];for(const f of b)h.has(f.key)||(h.add(f.key),v.push(f));return v}),t.value=r.at(-1)??[]},{deep:!0,immediate:!0});const l={headers:a,columns:t};return _(ee,l),l}function H(){const e=$(ee);if(!e)throw new Error("Missing headers!");return e}const Be=I({showSelect:Boolean,modelValue:{type:Array,default:()=>[]}},"v-data-table-select"),te=Symbol.for("vuetify:data-table-selection");function Ce(e,n){const a=C(e,"modelValue",e.modelValue,m=>new Set(m),m=>[...m.values()]);function t(m){return m.every(g=>a.value.has(g.value))}function l(m){return m.some(g=>a.value.has(g.value))}function i(m,g){const h=new Set(a.value);for(const y of m)g?h.add(y.value):h.delete(y.value);a.value=h}function u(m){i([m],!t([m]))}function s(m){i(n.value,m)}const o=p(()=>a.value.size>0),c=p(()=>t(n.value)),r={toggleSelect:u,select:i,selectAll:s,isSelected:t,isSomeSelected:l,someSelected:o,allSelected:c};return _(te,r),r}function R(){const e=$(te);if(!e)throw new Error("Missing selection!");return e}const _e=I({sortBy:{type:Array,default:()=>[]},multiSort:Boolean,mustSort:Boolean},"v-data-table-sort"),ae=Symbol.for("vuetify:data-table-sort");function $e(e){const n=C(e,"sortBy"),a=P(e,"mustSort"),t=P(e,"multiSort");return{sortBy:n,mustSort:a,multiSort:t}}function Fe(e){const{sortBy:n,mustSort:a,multiSort:t,page:l}=e,u={sortBy:n,toggleSort:s=>{let o=n.value.map(r=>({...r}))??[];const c=o.find(r=>r.key===s);c?c.order==="desc"?a.value?c.order="asc":o=o.filter(r=>r.key!==s):c.order="desc":t.value?o=[...o,{key:s,order:"asc"}]:o=[{key:s,order:"asc"}],n.value=o,l&&(l.value=1)}};return _(ae,u),u}function Ee(){const e=$(ae);if(!e)throw new Error("Missing sort!");return e}function Ne(e,n,a){const t=p(()=>a.value.reduce((i,u)=>(u.sort&&(i[u.key]=u.sort),i),{}));return{sortedItems:p(()=>n.value.length?Oe(e.value,n.value,"en",t.value):e.value)}}function Oe(e,n,a,t){const l=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...e].sort((i,u)=>{for(let s=0;s<n.length;s++){const o=n[s].key,c=n[s].order;if(c===!1)continue;let r=U(i.raw,o),m=U(u.raw,o);if(c==="desc"&&([r,m]=[m,r]),t!=null&&t[o]){const g=t[o](r,m);if(!g)continue;return g}if(!(r==null||m==null)){if(r instanceof Date&&m instanceof Date)return r.getTime()-m.getTime();if([r,m]=[r,m].map(g=>(g||"").toString().toLocaleLowerCase()),r!==m)return!isNaN(r)&&!isNaN(m)?Number(r)-Number(m):l.compare(r,m)}}return 0})}const Ge=E()({name:"VDataTableHeaders",props:{color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Q,default:"$sortAsc"},sortDescIcon:{type:Q,default:"$sortDesc"},...fe()},setup(e,n){let{slots:a,emit:t}=n;const{toggleSort:l,sortBy:i}=Ee(),{someSelected:u,allSelected:s,selectAll:o}=R(),{columns:c,headers:r}=H(),{loaderClasses:m}=me(e),g=(v,f)=>!e.sticky&&!v.fixed?null:{position:"sticky",zIndex:v.fixed?4:e.sticky?3:void 0,left:v.fixed?B(v.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${f})`:void 0};function h(v){const f=i.value.find(k=>k.key===v);return f?f.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:x}=ve(e,"color"),S=p(()=>({headers:r.value,columns:c.value,toggleSort:l,sortBy:i.value,someSelected:u.value,allSelected:s.value,selectAll:o,getSortIcon:h,getFixedStyles:g})),b=v=>{let{column:f,x:k,y:w}=v;const N=!!i.value.find(V=>V.key===f.key),O=f.key==="data-table-select"||f.key==="data-table-expand";return d(W,{tag:"th",align:f.align,class:["v-data-table__th",{"v-data-table__th--sortable":f.sortable,"v-data-table__th--sorted":N},m.value],style:{width:B(f.width),minWidth:B(f.width),...g(f,w)},colspan:f.colspan,rowspan:f.rowspan,onClick:f.sortable?()=>l(f.key):void 0,lastFixed:f.lastFixed,noPadding:O},{default:()=>{var F;const V=`column.${f.key}`,T={column:f,selectAll:o};return a[V]?a[V](T):f.key==="data-table-select"?((F=a["column.data-table-select"])==null?void 0:F.call(a,T))??d(K,{modelValue:s.value,indeterminate:u.value&&!s.value,"onUpdate:modelValue":o},null):d("div",{class:"v-data-table-header__content"},[d("span",null,[f.title]),f.sortable&&d(be,{key:"icon",class:"v-data-table-header__sort-icon",icon:h(f.key)},null),e.multiSort&&N&&d("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:x.value},[i.value.findIndex(G=>G.key===f.key)+1])])}})};L(()=>d(A,null,[a.headers?a.headers(S.value):r.value.map((v,f)=>d("tr",null,[v.map((k,w)=>d(b,{column:k,x:w,y:f},null))])),e.loading&&d("tr",{class:"v-data-table__progress"},[d("th",{colspan:c.value.length},[d(ge,{name:"v-data-table-headers",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Ae=I({groupBy:{type:Array,default:()=>[]}},"data-table-group"),ne=Symbol.for("vuetify:data-table-group");function Le(e){return{groupBy:C(e,"groupBy")}}function He(e){const{groupBy:n,sortBy:a}=e,t=M(new Set),l=p(()=>n.value.map(c=>({...c,order:c.order??!1})).concat(a.value));function i(c){return t.value.has(c.id)}function u(c){const r=new Set(t.value);i(c)?r.delete(c.id):r.add(c.id),t.value=r}function s(c){function r(m){const g=[];for(const h of m.items)h.type==="item"?g.push(h):g.push(...r(h));return g}return r({type:"group-header",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const o={sortByWithGroups:l,toggleGroup:u,opened:t,groupBy:n,extractRows:s,isGroupOpen:i};return _(ne,o),o}function le(){const e=$(ne);if(!e)throw new Error("Missing group!");return e}function Re(e,n){if(!e.length)return[];const a=new Map;for(const t of e){const l=U(t.raw,n);a.has(l)||a.set(l,[]),a.get(l).push(t)}return a}function oe(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const l=Re(e,n[0]),i=[],u=n.slice(1);return l.forEach((s,o)=>{const c=n[0],r=`${t}_${c}_${o}`;i.push({depth:a,id:r,key:c,value:o,items:u.length?oe(s,u,a+1,r):s,type:"group-header"})}),i}function re(e,n){const a=[];for(const t of e)t.type==="group-header"?(t.value!=null&&a.push(t),(n.has(t.id)||t.value==null)&&a.push(...re(t.items,n))):a.push(t);return a}function Me(e,n,a){return{flatItems:p(()=>{if(!n.value.length)return e.value;const l=oe(e.value,n.value.map(i=>i.key));return re(l,a.value)})}}const ze=E()({name:"VDataTableGroupHeaderRow",props:{item:{type:Object,required:!0}},setup(e,n){let{slots:a}=n;const{isGroupOpen:t,toggleGroup:l,extractRows:i}=le(),{isSelected:u,isSomeSelected:s,select:o}=R(),{columns:c}=H(),r=p(()=>i([e.item]));return()=>d("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[c.value.map(m=>{var g,h;if(m.key==="data-table-group"){const y=t(e.item)?"$expand":"$next",x=()=>l(e.item);return((g=a["data-table-group"])==null?void 0:g.call(a,{item:e.item,count:r.value.length,props:{icon:y,onClick:x}}))??d(W,{class:"v-data-table-group-header-row__column"},{default:()=>[d(D,{size:"small",variant:"text",icon:y,onClick:x},null),d("span",null,[e.item.value]),d("span",null,[Z("("),r.value.length,Z(")")])]})}if(m.key==="data-table-select"){const y=u(r.value),x=s(r.value)&&!y,S=b=>o(r.value,b);return((h=a["data-table-select"])==null?void 0:h.call(a,{props:{modelValue:y,indeterminate:x,"onUpdate:modelValue":S}}))??d("td",null,[d(K,{modelValue:y,indeterminate:x,"onUpdate:modelValue":S},null)])}return d("td",null,null)})])}}),Ue=I({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"v-data-table-expand"),ue=Symbol.for("vuetify:datatable:expanded");function Ke(e){const n=P(e,"expandOnClick"),a=C(e,"expanded",e.expanded,s=>new Set(s),s=>[...s.values()]);function t(s,o){const c=new Set(a.value);o?c.add(s.value):c.delete(s.value),a.value=c}function l(s){return a.value.has(s.value)}function i(s){t(s,!l(s))}const u={expand:t,expanded:a,expandOnClick:n,isExpanded:l,toggleExpand:i};return _(ue,u),u}function ie(){const e=$(ue);if(!e)throw new Error("foo");return e}const We=ye({name:"VDataTableRow",props:{index:Number,item:Object,onClick:Function},setup(e,n){let{slots:a}=n;const{isSelected:t,toggleSelect:l}=R(),{isExpanded:i,toggleExpand:u}=ie(),{columns:s}=H();L(()=>d("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&s.value.map((o,c)=>d(W,{align:o.align,fixed:o.fixed,fixedOffset:o.fixedOffset,lastFixed:o.lastFixed,noPadding:o.key==="data-table-select"||o.key==="data-table-expand",width:o.width},{default:()=>{var h,y;const r=e.item,m=`item.${o.key}`,g={index:e.index,item:e.item,columns:s.value,isSelected:t,toggleSelect:l,isExpanded:i,toggleExpand:u};return a[m]?a[m](g):o.key==="data-table-select"?((h=a["item.data-table-select"])==null?void 0:h.call(a,g))??d(K,{modelValue:t([r]),onClick:X(()=>l(r),["stop"])},null):o.key==="data-table-expand"?((y=a["item.data-table-expand"])==null?void 0:y.call(a,g))??d(D,{icon:i(r)?"$collapse":"$expand",size:"small",variant:"text",onClick:X(()=>u(r),["stop"])},null):Y(r.columns,o.key)}}))]))}}),qe=E()({name:"VDataTableRows",props:{loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},setup(e,n){let{emit:a,slots:t}=n;const{columns:l}=H(),{expandOnClick:i,toggleExpand:u,isExpanded:s}=ie(),{isSelected:o,toggleSelect:c}=R(),{toggleGroup:r,isGroupOpen:m}=le(),{t:g}=j();return L(()=>{var h;return e.loading&&t.loading?d("tr",{class:"v-data-table-rows-loading",key:"loading"},[d("td",{colspan:l.value.length},[t.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?d("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[d("td",{colspan:l.value.length},[((h=t["no-data"])==null?void 0:h.call(t))??g(e.noDataText)])]):d(A,null,[e.items.map((y,x)=>{var b;if(y.type==="group-header")return t["group-header"]?t["group-header"]({index:x,item:y,columns:l.value,isExpanded:s,toggleExpand:u,isSelected:o,toggleSelect:c,toggleGroup:r,isGroupOpen:m}):d(ze,{key:`group-header_${y.id}`,item:y},t);const S={index:x,item:y,columns:l.value,isExpanded:s,toggleExpand:u,isSelected:o,toggleSelect:c};return d(A,null,[t.item?t.item(S):d(We,{key:`item_${y.value}`,onClick:i.value||e["onClick:row"]?v=>{var f;i.value&&u(y),(f=e["onClick:row"])==null||f.call(e,v,{item:y})}:void 0,index:x,item:y},t),s(y)&&((b=t["expanded-row"])==null?void 0:b.call(t,S))])})])}),{}}});const Je=I({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"v-data-table-paginate"),se=Symbol.for("vuetify:data-table-pagination");function Qe(e){const n=C(e,"page",void 0,t=>+(t??1)),a=C(e,"itemsPerPage",void 0,t=>+(t??10));return{page:n,itemsPerPage:a}}function Ze(e){const{page:n,itemsPerPage:a,itemsLength:t}=e,l=p(()=>a.value===-1?0:a.value*(n.value-1)),i=p(()=>a.value===-1?t.value:Math.min(t.value,l.value+a.value)),u=p(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));function s(c){a.value=c,n.value=1}const o={page:n,itemsPerPage:a,itemsLength:t,startIndex:l,stopIndex:i,pageCount:u,setItemsPerPage:s};return _(se,o),o}function Xe(){const e=$(se);if(!e)throw new Error("Missing pagination!");return e}function Ye(e){const{items:n,startIndex:a,stopIndex:t,itemsPerPage:l}=e;return{paginatedItems:p(()=>l.value<=0?n.value:n.value.slice(a.value,t.value))}}const je=E()({name:"VDataTableFooter",props:{prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},setup(e,n){let{slots:a}=n;const{t}=j(),{page:l,pageCount:i,startIndex:u,stopIndex:s,itemsLength:o,itemsPerPage:c,setItemsPerPage:r}=Xe(),m=p(()=>e.itemsPerPageOptions.map(g=>({...g,title:t(g.title)})));return()=>{var g;return d("div",{class:"v-data-table-footer"},[(g=a.prepend)==null?void 0:g.call(a),d("div",{class:"v-data-table-footer__items-per-page"},[d("span",null,[t(e.itemsPerPageText)]),d(Se,{items:m.value,modelValue:c.value,"onUpdate:modelValue":h=>r(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),d("div",{class:"v-data-table-footer__info"},[d("div",null,[t(e.pageText,o.value?u.value+1:0,s.value,o.value)])]),d("div",{class:"v-data-table-footer__pagination"},[d(D,{icon:e.firstIcon,variant:"plain",onClick:()=>l.value=1,disabled:l.value===1,"aria-label":t(e.firstPageLabel)},null),d(D,{icon:e.prevIcon,variant:"plain",onClick:()=>l.value=Math.max(1,l.value-1),disabled:l.value===1,"aria-label":t(e.prevPageLabel)},null),e.showCurrentPage&&d("span",{key:"page",class:"v-data-table-footer__page"},[l.value]),d(D,{icon:e.nextIcon,variant:"plain",onClick:()=>l.value=Math.min(i.value,l.value+1),disabled:l.value===i.value,"aria-label":t(e.nextPageLabel)},null),d(D,{icon:e.lastIcon,variant:"plain",onClick:()=>l.value=i.value,disabled:l.value===i.value,"aria-label":t(e.lastPageLabel)},null)])])}}}),et=I({...we({itemValue:"id"})},"v-data-table-item");function tt(e,n,a){const t=n.split(".");for(;t.length>1;){const l=t.shift();e[l]==null&&(e[l]={}),typeof e[l]=="object"&&(e=e[l])}e[t[0]]=a}function at(e,n){const{items:a}=ke(e);return{items:p(()=>a.value.map(l=>({...l,type:"item",columns:n.value.reduce((i,u)=>(tt(i,u.key,Y(l.raw,u.value??u.key)),i),{})})))}}function nt(e){let{page:n,itemsPerPage:a,sortBy:t,groupBy:l,search:i}=e;const u=he("VDataTable"),s=p(()=>({page:n.value,itemsPerPage:a.value,sortBy:t.value,groupBy:l.value,search:i.value}));z(()=>i==null?void 0:i.value,()=>{n.value=1});let o=null;z(s,()=>{pe(o,s.value)||(u.emit("update:options",s.value),o=s.value)},{deep:!0,immediate:!0})}const lt=I({...et(),...Ve(),hideNoData:Boolean,hover:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},height:[String,Number],width:[String,Number],fixedHeader:Boolean,fixedFooter:Boolean,"onClick:row":Function,search:String},"v-data-table"),ct=E()({name:"VDataTable",props:{...lt(),...Ue(),...Ae(),...Be(),..._e(),...Je(),...Pe()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,n){let{emit:a,slots:t}=n;const{groupBy:l}=Le(e),{sortBy:i,multiSort:u,mustSort:s}=$e(e),{page:o,itemsPerPage:c}=Qe(e),{columns:r}=De(e,{groupBy:l,showSelect:P(e,"showSelect"),showExpand:P(e,"showExpand")}),{items:m}=at(e,r),g=p(()=>r.value.map(T=>"columns."+T.key)),h=P(e,"search"),{filteredItems:y}=Ie(e,m,h,{filterKeys:g});Fe({sortBy:i,multiSort:u,mustSort:s,page:o});const{sortByWithGroups:x,opened:S,extractRows:b}=He({groupBy:l,sortBy:i}),{sortedItems:v}=Ne(y,x,r),{flatItems:f}=Me(v,l,S),k=p(()=>f.value.length),{startIndex:w,stopIndex:N}=Ze({page:o,itemsPerPage:c,itemsLength:k}),{paginatedItems:O}=Ye({items:f,startIndex:w,stopIndex:N,itemsPerPage:c}),V=p(()=>b(O.value));return Ce(e,V),Ke(e),nt({page:o,itemsPerPage:c,sortBy:i,groupBy:l,search:h}),xe({VDataTableRows:{hideNoData:P(e,"hideNoData"),noDataText:P(e,"noDataText")}}),L(()=>d(Te,{class:["v-data-table",{"v-data-table--show-select":e.showSelect}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:t.top,default:t.default??(()=>{var T,F,G,q;return d(A,null,[(T=t.colgroup)==null?void 0:T.call(t,{columns:r}),d("thead",null,[d(Ge,{sticky:e.fixedHeader,multiSort:e.multiSort},t)]),(F=t.thead)==null?void 0:F.call(t),d("tbody",null,[t.body?t.body():d(qe,{items:O.value,"onClick:row":e["onClick:row"]},t)]),(G=t.tbody)==null?void 0:G.call(t),(q=t.tfoot)==null?void 0:q.call(t)])}),bottom:t.bottom??(()=>d(je,null,{prepend:t["footer.prepend"]}))})),{}}});export{ct as V};
