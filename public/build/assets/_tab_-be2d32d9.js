import Z from"./birth-mariages-80a7a81a.js";import ee from"./demographic-0b795abc.js";import ae from"./health-4de69694.js";import te from"./skills-dev-e0b8a248.js";import oe from"./residency-3e727cde.js";import le from"./sociocivi-417de0ee.js";import se from"./teenage-pregnancy-c2397643.js";import ie from"./death-9bb34d20.js";import{a as ne}from"./avatar-1-3f757947.js";import{a as V}from"./axios-4a70c6fc.js";import{a7 as re,a9 as T,aJ as ue,S as U,aa as de,ab as ce,aG as me,k as v,p as e,G as R,aK as fe,aL as pe,A as he,B as _e,av as be,r as ve,q as a,o as x,c as H,w as t,$ as ge,m as s,Y as ye,x as p,R as h,Q as D,a0 as ke,U as Ve,F as xe,a as we,V as L,O as w,b as z}from"./main-fc279098.js";import{V as F,a as C}from"./VRow-3d749928.js";import{a as Ce,b as M}from"./VCheckboxBtn-235bdab6.js";import{a as Se,b as Be,c as E,d as $e}from"./VTextField-43358ead.js";import{V as qe,a as j,b as Pe,c as _}from"./VWindowItem-c7a6354f.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-3cead4dd.js";import"./axios-60a05fd8.js";import"./VForm-c4179a4a.js";import"./forwardRefs-9d31fcaa.js";import"./VSelect-fb21050d.js";import"./VList-4e58f634.js";import"./ssrBoot-a8066742.js";import"./VDivider-5ecb6611.js";import"./VMenu-50f2ce39.js";import"./VOverlay-a6071b3b.js";import"./VSnackbar-549b2369.js";import"./VSpacer-9f37627e.js";const Ne=re()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Se(),...Ce()},emits:{"update:focused":l=>!0,"update:modelValue":()=>!0,"update:indeterminate":l=>!0},setup(l,r){let{attrs:f,slots:o}=r;const n=T(l,"indeterminate"),m=T(l,"modelValue"),{loaderClasses:c}=ue(l),{isFocused:S,focus:B,blur:$}=Be(l),q=U(()=>typeof l.loading=="string"&&l.loading!==""?l.loading:l.color),P=de(),i=U(()=>l.id||`switch-${P}`);function u(){n.value&&(n.value=!1)}return ce(()=>{const[b,d]=me(f),[G,Ge]=E.filterProps(l),[W,We]=M.filterProps(l),I=v();function J(g){var y,k;g.stopPropagation(),g.preventDefault(),(k=(y=I.value)==null?void 0:y.input)==null||k.click()}return e(E,R({class:["v-switch",{"v-switch--inset":l.inset},{"v-switch--indeterminate":n.value},c.value,l.class],style:l.style},b,G,{id:i.value,focused:S.value}),{...o,default:g=>{let{id:y,messagesId:k,isDisabled:K,isReadonly:O,isValid:Q}=g;return e(M,R({ref:I},W,{modelValue:m.value,"onUpdate:modelValue":[N=>m.value=N,u],id:y.value,"aria-describedby":k.value,type:"checkbox","aria-checked":n.value?"mixed":void 0,disabled:K.value,readonly:O.value,onFocus:B,onBlur:$},d),{...o,default:()=>e("div",{class:"v-switch__track",onClick:J},null),input:N=>{let{textColorClasses:Y,textColorStyles:X}=N;return e("div",{class:["v-switch__thumb",Y.value],style:X.value},[l.loading&&e(fe,{name:"v-switch",active:!0,color:Q.value===!1?void 0:q.value},{default:A=>o.loader?o.loader(A):e(pe,{active:A.isActive,color:A.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),Ae={key:0},De={class:"d-flex h-0"},Ie={class:"user-profile-info w-100 mt-16 pt-6 pt-sm-0 mt-sm-0"},Te={class:"d-flex align-center justify-center justify-sm-space-between flex-wrap gap-4"},Ue={class:"text-h5"},Re={class:"d-flex gap-x-5"},He={class:"d-flex align-center"},Le={class:"d-flex align-center"},ze={class:"d-flex align-center"},Fe={class:"d-flex align-center"},Me={class:"d-flex"},Ee={class:"d-flex flex-row-reverse"},je={class:"d-flex flex-row-reverse"},ya={__name:"[tab]",setup(l){const r=he(),f=v(r.params.tab||"demographics"),o=v(),n=v([]),m=v();v(!1);const c=v(!1),S=[{title:"Demographics",icon:"mdi-account-outline",tab:"demographics"},{title:"Skills Dev & Economic Act.",icon:"mdi-lock-open-outline",tab:"skills-dev"},{title:"Residency & Migration",icon:"mdi-lock-open-outline",tab:"residency"},{title:"Birth & Marriages",icon:"mdi-bookmark-outline",tab:"birth-marriages"},{title:"Health Information",icon:"mdi-medication",tab:"health"},{title:"Socio Civi Information",icon:"mdi-account-details",tab:"sociocivi"},{title:"Teenage Pregnancy",icon:"mdi-human-pregnant",tab:"teenage-pregnancy"}];_e(()=>r.params.tab,i=>{f.value=i||"demopgrahics"});async function B(){c.value=!c.value;try{const i=await V.put(`/api/household-member/${r.query.member_id}/status`,{isDead:c.value});console.log(i.data.message),r.params.tab="death"}catch(i){console.error("Error updating member status:",i)}}async function $(){try{const i=r.params.id,u=await V.get("/api/household-list",{params:{id:r.query.household_id}});m.value=u.data}catch(i){console.log(i)}}async function q(){try{const u=await V.get("/api/household-member",{params:{member_id:r.query.member_id,household_id:r.query.household_id}});o.value=u.data;for(var i of o.value.demographic.tags.split(","))c.value=i.trim()=="dead"}catch(u){console.log(u)}}async function P(){try{const i=await V.get("/api/lookup/");n.value=i.data}catch(i){console.error("Error fetching lookups:",i)}}return be(()=>{P(),q(),$()}),(i,u)=>{const b=ve("VText");return a(o)&&a(m)?(x(),H("div",Ae,[e(Ve,{style:{"min-height":"10rem"}},{default:t(()=>[e(ge,{class:"d-flex align-bottom flex-sm-row flex-column justify-center gap-x-4",style:{"min-height":"125px"}},{default:t(()=>[s("div",De,[e(ye,{rounded:"",size:"125",image:a(ne),class:"user-profile-avatar mx-auto"},null,8,["image"])]),s("div",Ie,[s("div",Te,[e(F,null,{default:t(()=>[e(C,{cols:"12",sm:"8",class:"d-flex flex-column"},{default:t(()=>[s("h5",Ue,[s("b",null,p(a(o).demographic.lastname)+", "+p(a(o).demographic.firstname)+" "+p(a(o).demographic.middlename),1)]),s("div",Re,[s("span",He,[e(b,null,{default:t(()=>[h("Brgy (Purok/Sitio): "),s("b",null,p(a(m).Barangay),1)]),_:1})]),s("span",Le,[e(b,null,{default:t(()=>[h("BSN: "),s("b",null,p(a(m).BSN),1)]),_:1})]),s("span",ze,[e(b,null,{default:t(()=>[h("HUSN: "),s("b",null,p(a(m).HUSN),1)]),_:1})]),s("span",Fe,[e(b,null,{default:t(()=>[h("HSN: "),s("b",null,p(a(m).HSN),1)]),_:1})])]),s("div",Me,[e(b,null,{default:t(()=>[h("Complete Address: "),s("b",null,p(a(m).address),1)]),_:1})])]),_:1}),e(C,{cols:"12",sm:"4",class:"d-flex flex-column"},{default:t(()=>[s("div",Ee,[e(Ne,{id:"death-switch",inset:"",modelValue:a(c),"onUpdate:modelValue":u[0]||(u[0]=d=>D(c)?c.value=d:null),onClick:B},null,8,["modelValue"]),e($e,{for:"death-switch",class:"me-2 text-body-1"},{default:t(()=>[h(" Deceased ")]),_:1})]),s("div",je,[e(ke,null,{default:t(()=>[h(" Change Photo ")]),_:1})])]),_:1})]),_:1})])])]),_:1})]),_:1}),e(F,null,{default:t(()=>[e(C,{cols:"12",class:"mt-5"},{default:t(()=>[e(qe,{modelValue:a(f),"onUpdate:modelValue":u[1]||(u[1]=d=>D(f)?f.value=d:null),direction:"horizontal",class:"v-tabs-pill"},{default:t(()=>[a(c)?w("",!0):(x(),H(xe,{key:0},we(S,d=>e(j,{key:d.icon,value:d.tab,to:{name:"household-member-tab",params:{tab:d.tab},query:{member_id:a(r).query.member_id,household_id:a(r).query.household_id}}},{default:t(()=>[e(L,{size:"20",start:"",icon:d.icon},null,8,["icon"]),h(" "+p(d.title),1)]),_:2},1032,["value","to"])),64)),a(c)?(x(),z(j,{key:"mdi-coffin",value:"death",to:{name:"household-member-tab",params:{tab:"death"},query:{member_id:a(r).query.member_id,household_id:a(r).query.household_id}}},{default:t(()=>[e(L,{size:"20",start:"",icon:"mdi-coffin"}),h(" Death ")]),_:1},8,["to"])):w("",!0)]),_:1},8,["modelValue"])]),_:1}),a(o)&&a(n)?(x(),z(C,{key:0,cols:"12"},{default:t(()=>[e(Pe,{modelValue:a(f),"onUpdate:modelValue":u[2]||(u[2]=d=>D(f)?f.value=d:null),class:"disable-tab-transition",touch:!0},{default:t(()=>[e(_,{value:"demographics"},{default:t(()=>[e(ee,{member:a(o),lookups:a(n)},null,8,["member","lookups"])]),_:1}),e(_,{value:"skills-dev"},{default:t(()=>[e(te,{member:a(o),lookups:a(n)},null,8,["member","lookups"])]),_:1}),e(_,{value:"residency"},{default:t(()=>[e(oe,{member:a(o),lookups:a(n)},null,8,["member","lookups"])]),_:1}),e(_,{value:"birth-marriages"},{default:t(()=>[e(Z,{member:a(o),lookups:a(n)},null,8,["member","lookups"])]),_:1}),e(_,{value:"health"},{default:t(()=>[e(ae,{member:a(o),lookups:a(n)},null,8,["member","lookups"])]),_:1}),e(_,{value:"sociocivi"},{default:t(()=>[e(le,{member:a(o),lookups:a(n)},null,8,["member","lookups"])]),_:1}),e(_,{value:"teenage-pregnancy"},{default:t(()=>[e(se,{member:a(o),lookups:a(n)},null,8,["member","lookups"])]),_:1}),e(_,{value:"death"},{default:t(()=>[e(ie,{member:a(o),lookups:a(n)},null,8,["member","lookups"])]),_:1})]),_:1},8,["modelValue"])]),_:1})):w("",!0)]),_:1})])):w("",!0)}}};export{ya as default};
