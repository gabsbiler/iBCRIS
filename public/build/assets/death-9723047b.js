import{_ as $}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-c0c4cc5e.js";import{d as A,l as i,aG as E,r as T,o as p,c as w,q as e,w as a,a1 as C,Y as s,a6 as _,$ as V,s as l,a7 as b,aJ as I,b as D,n as r,aK as y,ae as x,af as f,aH as F,U as B,F as L,a as G,aL as J,y as k,V as Y,P as j,aa as P}from"./main-27bf03b5.js";import{V as q}from"./VCombobox-2660c3a9.js";import"./filter-85954aca.js";const z={class:"d-flex gap-y-5 flex-column"},H=r("h6",{class:"text-h6"}," Filter ",-1),K={class:"mb-3"},M={class:"gap-x-2 mt-2"},O={class:"d-flex justify-end"},Q=r("h4",{class:"text-h4 text-center"}," Death Record in Development ",-1),te=A({__name:"death",setup(W){const c=i(!0),g=i([]),u=i(),m=i(),n=i({barangay:[],dateFrom:new Date,dateTo:new Date(new Date().setFullYear(new Date().getFullYear()+1)),ageRange:[{from:0,to:5},{from:6,to:10},{from:11,to:15},{from:16,to:20},{from:21,to:25},{from:26,to:30},{from:31,to:35},{from:36,to:40}]}),v=JSON.parse(localStorage.getItem("userData")),R=async()=>{try{const d=await P.get("/api/barangays");g.value=d.data.map(t=>t.barangay)}catch(d){console.error("Error fetching data:",d)}};return E(()=>{v.role==="admin"?R():g.value=[v.barangay]}),(d,t)=>{const h=$,S=T("VText"),U=T("Button");return p(),w("div",z,[e(V,null,{default:a(()=>[e(C,{class:"mt-2 ms-1"},{default:a(()=>[s(" Generate Death Reports ")]),_:1}),e(_,null,{default:a(()=>[s(" This module allows you to generate a report of Death Records. Just select the barangay, then the date range of report. It will display the death records. ")]),_:1})]),_:1}),e(V,null,{default:a(()=>[e(C,{class:"d-flex justify-space-between align-center",onClick:t[0]||(t[0]=o=>c.value=!l(c))},{default:a(()=>[H,e(b,{variant:"text",icon:l(c)?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])]),_:1}),e(I,null,{default:a(()=>[l(c)?(p(),D(_,{key:0,class:"d-flex flex-column gap-y-3"},{default:a(()=>[r("div",null,[e(y,{class:"mb-3"},{default:a(()=>[s(" Select Barangay ")]),_:1}),e(x,null,{default:a(()=>[e(f,null,{default:a(()=>[e(q,{modelValue:l(n).barangay,"onUpdate:modelValue":t[1]||(t[1]=o=>l(n).barangay=o),items:l(g),multiple:"",chips:"",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),r("div",null,[e(y,{class:"mb-3"},{default:a(()=>[s(" Date Range: ")]),_:1}),e(x,null,{default:a(()=>[e(f,{cols:"12",md:"6"},{default:a(()=>[e(h,{label:"Date From",modelValue:l(n).dateFrom,"onUpdate:modelValue":t[2]||(t[2]=o=>l(n).dateFrom=o)},null,8,["modelValue"])]),_:1}),e(f,{cols:"12",md:"6"},{default:a(()=>[e(h,{modelValue:l(n).dateTo,"onUpdate:modelValue":t[3]||(t[3]=o=>l(n).dateTo=o),label:"Date To"},null,8,["modelValue"])]),_:1})]),_:1})]),r("div",K,[e(y,{class:"mb-3"},{default:a(()=>[s(" Select Age: ")]),_:1}),e(x,null,{default:a(()=>[e(f,null,{default:a(()=>[e(F,{label:"From",modelValue:l(u),"onUpdate:modelValue":t[4]||(t[4]=o=>B(u)?u.value=o:null),type:"number"},null,8,["modelValue"])]),_:1}),e(f,{class:"d-flex flex-row align-center gap-x-4"},{default:a(()=>[e(F,{label:"To",modelValue:l(m),"onUpdate:modelValue":t[5]||(t[5]=o=>B(m)?m.value=o:null),type:"number"},null,8,["modelValue"]),e(b,{icon:"mdi-plus",onClick:t[6]||(t[6]=o=>d.addAndSortByFrom(l(u),l(m))),disabled:!(l(u)>0&&l(m)>0)},null,8,["disabled"])]),_:1})]),_:1}),r("div",M,[(p(!0),w(L,null,G(l(n).ageRange,(o,N)=>(p(),D(J,{color:"primary",class:"mx-1 mt-2"},{default:a(()=>[e(S,null,{default:a(()=>[s(k(o.from)+" - "+k(o.to),1)]),_:2},1024),e(U,{class:"d-flex align-center ms-1",onClick:X=>d.removeElementArray(N)},{default:a(()=>[e(Y,{icon:"mdi-close",style:{"font-size":"0.9rem !important"}})]),_:2},1032,["onClick"])]),_:2},1024))),256))])]),r("div",O,[e(b,{disabled:!(l(n).barangay.length>0)},{default:a(()=>[s(" Generate ")]),_:1},8,["disabled"])])]),_:1})):j("",!0)]),_:1})]),_:1}),e(V,null,{default:a(()=>[e(_,null,{default:a(()=>[Q]),_:1})]),_:1})])}}});export{te as default};
