import{k as n,A as S,r as I,q as o,o as N,b as T,w as i,p as a,U as W,$ as R,D as p,m as V,E as c,a0 as y,Z as w,R as g,Q as A,x as E,O as D}from"./main-fc279098.js";import{a as F}from"./axios-60a05fd8.js";import{a as r,V as k}from"./VRow-3d749928.js";import{V as M}from"./VForm-c4179a4a.js";import{a as _}from"./VSelect-fb21050d.js";import{V as f}from"./VTextField-43358ead.js";import{V as B}from"./VSnackbar-549b2369.js";import"./axios-4a70c6fc.js";import"./forwardRefs-9d31fcaa.js";import"./VList-4e58f634.js";import"./ssrBoot-a8066742.js";import"./VDivider-5ecb6611.js";import"./VMenu-50f2ce39.js";import"./VOverlay-a6071b3b.js";import"./VCheckboxBtn-235bdab6.js";const L={class:"mb-5"},j=V("b",null," SKILLS DEVELOPMENT ",-1),K=V("b",null," ECONOMIC ACTIVITY (FOR 15 YEARS OLD AND ABOVE) ",-1),Y={class:"mt-5"},se={__name:"skills-dev",props:{member:Array,lookups:Array},setup(x){const C=x,l=n(C.member),u=n(C.lookups),b=n(),v=n(),m=n(!1);S();const O=async()=>{l.value.demographic._15a=null,l.value.demographic._15b=null,l.value.demographic._15c=null,l.value.demographic._16a=null,l.value.demographic._16b=null,l.value.demographic._16c=null,l.value.demographic._16d=null,l.value.demographic._16e=null,l.value.demographic._16f=null},U=async()=>{var h,t;try{const d=await F.post("/api/updateMember",l.value.demographic);b.value=d.data.message,m.value=!0,v.value="success"}catch(d){console.error("There was an error updating the member:",d),b.value=((t=(h=d.response)==null?void 0:h.data)==null?void 0:t.message)||"An error occurred",m.value=!0,v.value="error"}};return(h,t)=>{const d=I("VText");return o(l)&&o(u)?(N(),T(k,{key:0},{default:i(()=>[a(r,{cols:"12"},{default:i(()=>[a(W,null,{default:i(()=>[a(R,null,{default:i(()=>[a(M,null,{default:i(()=>[p(V("div",L,[a(d,{class:"text-button"},{default:i(()=>[j]),_:1}),a(k,{class:"mt-2"},{default:i(()=>[a(r,{md:"6",cols:"12"},{default:i(()=>{var s;return[a(_,{modelValue:o(l).demographic._13a,"onUpdate:modelValue":t[0]||(t[0]=e=>o(l).demographic._13a=e),label:"(13a) What type of skills do you have?",items:(s=o(u).filter(e=>e.column_number==="13a")[0])==null?void 0:s.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),a(r,{md:"6",cols:"12"},{default:i(()=>{var s;return[a(_,{modelValue:o(l).demographic._13b,"onUpdate:modelValue":t[1]||(t[1]=e=>o(l).demographic._13b=e),label:"(13b) What type of skills development training is __ interested to join?",items:(s=o(u).filter(e=>e.column_number==="13b")[0])==null?void 0:s.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1})]),_:1})],512),[[c,o(l).demographic._7>=15]]),V("div",null,[a(d,{class:"text-button"},{default:i(()=>[K]),_:1}),a(k,{class:"mt-2"},{default:i(()=>[a(r,{md:"6",cols:"12"},{default:i(()=>{var s;return[a(_,{modelValue:o(l).demographic._14a,"onUpdate:modelValue":t[2]||(t[2]=e=>o(l).demographic._14a=e),label:"(14a) Indicator for OFW/OCW and Not Working?",items:(s=o(u).filter(e=>e.column_number==="14a")[0])==null?void 0:s.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),p(a(r,{md:"6",cols:"12"},{default:i(()=>[a(f,{modelValue:o(l).demographic._14a_1,"onUpdate:modelValue":t[3]||(t[3]=s=>o(l).demographic._14a_1=s),label:"(14a) Indicate Reason (for NOT WORKING)"},null,8,["modelValue"])]),_:1},512),[[c,o(l).demographic._14a==9]]),p(a(r,{md:"6",cols:"12"},{default:i(()=>[a(f,{modelValue:o(l).demographic._14a_2,"onUpdate:modelValue":t[4]||(t[4]=s=>o(l).demographic._14a_2=s),label:"(14a) How many years working as OFW",type:"number"},null,8,["modelValue"])]),_:1},512),[[c,o(l).demographic._14a==1]]),a(r,{md:"6",cols:"12"},{default:i(()=>[a(f,{modelValue:o(l).demographic._14b,"onUpdate:modelValue":t[5]||(t[5]=s=>o(l).demographic._14b=s),label:"(14b) What is __'s usual activity/ occupation during the past 12 months?"},null,8,["modelValue"])]),_:1}),p(a(r,{md:"6",cols:"12"},{default:i(()=>{var s;return[a(_,{modelValue:o(l).demographic._14c,"onUpdate:modelValue":t[6]||(t[6]=e=>o(l).demographic._14c=e),label:"(14c) What is the major source of __'s income?",items:(s=o(u).filter(e=>e.column_number==="14c")[0])==null?void 0:s.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1},512),[[c,o(l).demographic._7>=15]]),p(a(r,{md:"6",cols:"12"},{default:i(()=>[a(f,{modelValue:o(l).demographic._14d,"onUpdate:modelValue":t[7]||(t[7]=s=>o(l).demographic._14d=s),label:"(14d) Monthly Income"},null,8,["modelValue"])]),_:1},512),[[c,o(l).demographic._14c==1||o(l).demographic._c==2]]),a(r,{md:"6",cols:"12"},{default:i(()=>{var s;return[a(_,{modelValue:o(l).demographic._14e,"onUpdate:modelValue":t[8]||(t[8]=e=>o(l).demographic._14e=e),label:"(14e) What is the status of __'s work/ business?",items:(s=o(u).filter(e=>e.column_number==="14e")[0])==null?void 0:s.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),a(r,{md:"6",cols:"12"},{default:i(()=>[a(f,{modelValue:o(l).demographic._14f,"onUpdate:modelValue":t[9]||(t[9]=s=>o(l).demographic._14f=s),label:"(14f) In what barangay and city/ municipality is __'s work/business located?"},null,8,["modelValue"])]),_:1})]),_:1})]),V("div",Y,[a(k,null,{default:i(()=>[a(r,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:i(()=>[a(y,{onClick:w(U,["prevent"])},{default:i(()=>[g(" Save changes ")]),_:1},8,["onClick"]),a(y,{color:"secondary",variant:"outlined",type:"reset",onClick:w(O,["prevent"])},{default:i(()=>[g(" Reset ")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{modelValue:o(m),"onUpdate:modelValue":t[11]||(t[11]=s=>A(m)?m.value=s:null),location:"top center",variant:"flat",color:o(v)},{actions:i(()=>[a(y,{color:"white",onClick:t[10]||(t[10]=s=>m.value=!1)},{default:i(()=>[g(" Close ")]),_:1})]),default:i(()=>[g(E(o(b))+" ",1)]),_:1},8,["modelValue","color"])]),_:1})):D("",!0)}}};export{se as default};
