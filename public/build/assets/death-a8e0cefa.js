import{_ as T}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-c0c4cc5e.js";import{l as m,B as A,k as B,r as D,s as e,o as S,b as I,w as s,q as l,af as n,$ as M,a6 as N,n as _,ae as b,aH as h,aI as c,a7 as k,a4 as R,Y as p,U as P,y as F,P as O,aa as $}from"./main-27bf03b5.js";import{V as H}from"./VForm-7ee54603.js";import{V as W}from"./VSnackbar-45528893.js";const q=_("b",null," DEATH INFORMATION ",-1),E=_("p",null,"Person who died in the last five years",-1),L={class:"mt-5"},J={__name:"death",props:{member:Array,lookups:Array},setup(w){const v=w,o=m(v.member),i=m(v.lookups),f=m(),g=m(),d=m(!1);A();const y=async()=>{var V,a;try{const u=await $.post("/api/updateDeceasedMember",o.value.demographic);f.value=u.data.message,d.value=!0,g.value="success"}catch(u){console.error("There was an error updating the member:",u),f.value=((a=(V=u.response)==null?void 0:V.data)==null?void 0:a.message)||"An error occurred",d.value=!0,g.value="error"}},C=B(),x=()=>{C.go(-1)};return(V,a)=>{const u=D("VText"),U=T;return e(o)&&e(i)?(S(),I(b,{key:0},{default:s(()=>[l(n,{cols:"12"},{default:s(()=>[l(M,null,{default:s(()=>[l(N,null,{default:s(()=>[l(H,null,{default:s(()=>[_("div",null,[l(u,null,{default:s(()=>[q,E]),_:1}),l(b,{class:"mt-2"},{default:s(()=>[l(n,{cols:"12",md:"6"},{default:s(()=>[l(U,{modelValue:e(o).demographic._31,"onUpdate:modelValue":a[0]||(a[0]=t=>e(o).demographic._31=t),label:"(31) Date of Death","base-color":e(o).demographic._31?null:"warning"},null,8,["modelValue","base-color"])]),_:1}),l(n,{md:"6",cols:"12"},{default:s(()=>[l(h,{modelValue:e(o).demographic._32,"onUpdate:modelValue":a[1]||(a[1]=t=>e(o).demographic._32=t),label:"(32) Age at the time of death","base-color":e(o).demographic._32?null:"warning"},null,8,["modelValue","base-color"])]),_:1}),l(n,{cols:"12"},{default:s(()=>[l(h,{modelValue:e(o).demographic._33,"onUpdate:modelValue":a[2]||(a[2]=t=>e(o).demographic._33=t),label:"(33) Place of Death (Municipal/City, Province)","base-color":e(o).demographic._33?null:"warning"},null,8,["modelValue","base-color"])]),_:1}),l(n,{cols:"12"},{default:s(()=>[l(h,{modelValue:e(o).demographic._34,"onUpdate:modelValue":a[3]||(a[3]=t=>e(o).demographic._34=t),label:"(34) What is __'s cause of death?","base-color":e(o).demographic._34?null:"warning"},null,8,["modelValue","base-color"])]),_:1}),l(n,{md:"6",cols:"12"},{default:s(()=>{var t;return[l(c,{modelValue:e(o).demographic._35,"onUpdate:modelValue":a[4]||(a[4]=r=>e(o).demographic._35=r),label:"(35) Is ____'s death registered with the LCRO?",items:(t=e(i).filter(r=>r.column_number==="35")[0])==null?void 0:t.lookup_list,"item-title":"description","item-value":"lookup_key","base-color":e(o).demographic._35?null:"warning"},null,8,["modelValue","items","base-color"])]}),_:1}),l(n,{md:"6",cols:"12"},{default:s(()=>{var t;return[l(c,{modelValue:e(o).demographic._36,"onUpdate:modelValue":a[5]||(a[5]=r=>e(o).demographic._36=r),label:"(36) Why was ___'s death not registered?",items:(t=e(i).filter(r=>r.column_number==="36")[0])==null?void 0:t.lookup_list,"item-title":"description","item-value":"lookup_key","base-color":e(o).demographic._36?null:"warning"},null,8,["modelValue","items","base-color"])]}),_:1}),l(n,{md:"6",cols:"12"},{default:s(()=>{var t;return[l(c,{modelValue:e(o).demographic._37,"onUpdate:modelValue":a[6]||(a[6]=r=>e(o).demographic._37=r),label:"(37) Is deceased female age 15-49?",items:(t=e(i).filter(r=>r.column_number==="37")[0])==null?void 0:t.lookup_list,"item-title":"description","item-value":"lookup_key","base-color":e(o).demographic._37?null:"warning"},null,8,["modelValue","items","base-color"])]}),_:1}),l(n,{md:"6",cols:"12"},{default:s(()=>{var t;return[l(c,{modelValue:e(o).demographic._38,"onUpdate:modelValue":a[7]||(a[7]=r=>e(o).demographic._38=r),label:"(38) Maternal Condition",items:(t=e(i).filter(r=>r.column_number==="38")[0])==null?void 0:t.lookup_list,"item-title":"description","item-value":"lookup_key","base-color":e(o).demographic._38?null:"warning"},null,8,["modelValue","items","base-color"])]}),_:1})]),_:1})]),_("div",L,[l(b,null,{default:s(()=>[l(n,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:s(()=>[l(k,{onClick:R(y,["prevent"])},{default:s(()=>[p(" Save changes ")]),_:1},8,["onClick"]),l(k,{color:"secondary",variant:"outlined",onClick:x},{default:s(()=>[p(" Back ")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),l(W,{modelValue:e(d),"onUpdate:modelValue":a[9]||(a[9]=t=>P(d)?d.value=t:null),location:"top center",variant:"flat",color:e(g)},{actions:s(()=>[l(k,{color:"white",onClick:a[8]||(a[8]=t=>d.value=!1)},{default:s(()=>[p(" Close ")]),_:1})]),default:s(()=>[p(F(e(f))+" ",1)]),_:1},8,["modelValue","color"])]),_:1})):O("",!0)}}};export{J as default};
