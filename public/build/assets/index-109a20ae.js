import{_ as E}from"./SnackBar.vue_vue_type_script_setup_true_lang-6b326fdf.js";import{_ as R}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-ad873c13.js";import{d as h,l as i,o as w,c as k,q as e,w as a,V as T,Y as p,a7 as v,$ as D,a6 as b,ae as $,af as C,aH as g,s as u,aW as B,U as S,aa as x,aG as F,n as _}from"./main-ec2ae718.js";import{V as A}from"./VDialog-fb016474.js";import{V as I}from"./VDataTable-f624170c.js";import"./VSnackbar-7066dbda.js";import"./filter-48dc3dcf.js";const j=h({__name:"Add",emits:["finish"],setup(y,{emit:c}){const d=i(!1),n=i({name:""}),o=i(!1),r=()=>{d.value=!0},f=async()=>{o.value=!0;try{const m=await x.post("/api/household-container",{name:n.value.name});console.log(m.data)}catch(m){console.log(m)}finally{c("finish"),o.value=!1,d.value=!1}};return(m,s)=>(w(),k("div",null,[e(v,{onClick:r},{default:a(()=>[e(T,{icon:"mdi-plus"}),p(" Add Batch ")]),_:1}),e(A,{"max-width":"400",modelValue:u(d),"onUpdate:modelValue":s[2]||(s[2]=l=>S(d)?d.value=l:null)},{default:a(()=>[e(D,{title:"Add Batch"},{default:a(()=>[e(b,null,{default:a(()=>[e($,null,{default:a(()=>[e(C,null,{default:a(()=>[e(g,{label:"Name",modelValue:u(n).name,"onUpdate:modelValue":s[0]||(s[0]=l=>u(n).name=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(B,{class:"d-flex justify-end"},{default:a(()=>[e(v,{variant:"text",onClick:s[1]||(s[1]=l=>d.value=!1)},{default:a(()=>[p(" Cancel ")]),_:1}),e(v,{variant:"elevated",onClick:f,loading:u(o)},{default:a(()=>[p(" Add ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),q=h({__name:"Edit",props:["item"],emits:["finish"],setup(y,{emit:c}){const d=y,n=i(!1),o=i(),r=i(!1),f=()=>{n.value=!0,o.value={...d.item}},m=async()=>{r.value=!0;try{const s=await x.put(`/api/household-container/${o.value.id}`,{name:o.value.name}),l=i(!1);r.value=!1,c("finish")}catch(s){console.log(s)}};return(s,l)=>(w(),k("div",null,[e(v,{icon:"mdi-square-edit-outline",onClick:f}),e(A,{"max-width":"400",modelValue:u(n),"onUpdate:modelValue":l[3]||(l[3]=t=>S(n)?n.value=t:null)},{default:a(()=>[e(D,{title:"Edit Folder"},{default:a(()=>[e(b,null,{default:a(()=>[e($,null,{default:a(()=>[e(C,{cols:"12",md:"4"},{default:a(()=>[e(g,{label:"ID",modelValue:u(o).id,"onUpdate:modelValue":l[0]||(l[0]=t=>u(o).id=t),disabled:""},null,8,["modelValue"])]),_:1}),e(C,null,{default:a(()=>[e(g,{label:"Name",modelValue:u(o).name,"onUpdate:modelValue":l[1]||(l[1]=t=>u(o).name=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(B,{class:"d-flex justify-end"},{default:a(()=>[e(v,{variant:"text",onClick:l[2]||(l[2]=t=>n.value=!1)},{default:a(()=>[p(" Cancel ")]),_:1}),e(v,{variant:"elevated",onClick:m,loading:u(r)},{default:a(()=>[p(" Save ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),G={class:"d-flex justify-space-between my-2"},H=_("div",null,[_("h6",{class:"text-h6"},"Record Batch")],-1),M={class:"d-flex align-center gap-x-3"},Q={class:"d-flex gap-x-2"},P=h({__name:"index",setup(y){const c=i(null),d=i(),n=i(!1),o=[{title:"Name",key:"name"},{title:"Action",key:"action"}],r=async()=>{try{const l=await x.get("/api/container");d.value=l.data}catch(l){console.error("Error fetching data:",l)}},f=i(!1),m=i(),s=async l=>{f.value=!0;try{const t=await x.delete(`/api/household-container/${l}`);r(),c.value.show("success",t.data.message)}catch(t){c.value.show("error",t)}finally{f.value=!1}};return F(()=>{r()}),(l,t)=>{const N=R,U=E;return w(),k("div",null,[e(D,null,{default:a(()=>[e(b,null,{default:a(()=>[e(u(I),{headers:o,items:d.value},{top:a(()=>[_("div",G,[H,_("div",M,[e(g,{label:"Search",density:"compact",style:{"min-width":"20rem"}}),e(j,{onFinish:t[0]||(t[0]=()=>{r(),c.value.show("success","Succesfully Added")})})])])]),"item.action":a(({item:V})=>[_("div",Q,[e(v,{icon:"mdi-trash-outline",loading:f.value,onClick:()=>{m.value=V.raw.id,n.value=!0,f.value=!0}},null,8,["loading","onClick"]),e(q,{item:V.raw,onFinish:t[1]||(t[1]=()=>{r(),c.value.show("success","Edit Successful")})},null,8,["item"])])]),_:1},8,["items"])]),_:1})]),_:1}),e(N,{isDialogVisible:n.value,confirmationQuestion:"This will be deleted permanently. Are you sure?",onConfirm:t[2]||(t[2]=V=>s(m.value)),onCancel:t[3]||(t[3]=V=>n.value=!1)},null,8,["isDialogVisible"]),e(U,{ref_key:"SnackBarRef",ref:c},null,512)])}}});export{P as default};
