import Z from"./birth-mariages-c195142a.js";import ee from"./demographic-2ef1e5ef.js";import ae from"./health-0356efb0.js";import te from"./skills-dev-a9315ca4.js";import oe from"./residency-c79935fd.js";import le from"./sociocivi-044e0ff1.js";import se from"./teenage-pregnancy-627ef627.js";import ie from"./death-696c8487.js";import{a as re}from"./avatar-1-3f757947.js";import{a as S}from"./axios-4a70c6fc.js";import{a7 as ne,a9 as R,aC as ue,S as H,aa as de,ab as ce,ax as me,k as v,p as e,G as z,aD as fe,aE as pe,A as he,B as _e,as as be,r as ve,q as a,o as y,c as E,b as T,w as t,$ as ge,Y as ye,m as u,x as p,R as h,Q as A,a0 as ke,U as Ve,O as k,F as xe,a as we,V as F}from"./main-ee999be4.js";import{V,a as b}from"./VRow-b84d81cd.js";import{a as Ce,b as L}from"./VCheckboxBtn-178c9cd1.js";import{m as Se,u as Be,a as M,b as $e}from"./VTextField-5e129094.js";import{V as qe,a as j,b as Pe,c as _}from"./VWindowItem-c5fc4bf3.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-941392ec.js";import"./axios-60a05fd8.js";import"./VForm-5c1e5662.js";import"./forwardRefs-9d31fcaa.js";import"./VSelect-4a1635ff.js";import"./VList-24266b93.js";import"./ssrBoot-16871ecf.js";import"./VDivider-81cb78e4.js";import"./VMenu-0cb1867b.js";import"./VOverlay-d1ced1dc.js";import"./VSnackbar-9d2e1910.js";import"./VSpacer-d5aad193.js";const De=ne()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Se(),...Ce()},emits:{"update:focused":l=>!0,"update:modelValue":()=>!0,"update:indeterminate":l=>!0},setup(l,r){let{attrs:f,slots:o}=r;const i=R(l,"indeterminate"),m=R(l,"modelValue"),{loaderClasses:c}=ue(l),{isFocused:B,focus:$,blur:q}=Be(l),P=H(()=>typeof l.loading=="string"&&l.loading!==""?l.loading:l.color),D=de(),s=H(()=>l.id||`switch-${D}`);function n(){i.value&&(i.value=!1)}return ce(()=>{const[g,d]=me(f),[W,Ge]=M.filterProps(l),[G,Oe]=L.filterProps(l),U=v();function O(x){var w,C;x.stopPropagation(),x.preventDefault(),(C=(w=U.value)==null?void 0:w.input)==null||C.click()}return e(M,z({class:["v-switch",{"v-switch--inset":l.inset},{"v-switch--indeterminate":i.value},c.value,l.class],style:l.style},g,W,{id:s.value,focused:B.value}),{...o,default:x=>{let{id:w,messagesId:C,isDisabled:Q,isReadonly:Y,isValid:J}=x;return e(L,z({ref:U},G,{modelValue:m.value,"onUpdate:modelValue":[N=>m.value=N,n],id:w.value,"aria-describedby":C.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:Q.value,readonly:Y.value,onFocus:$,onBlur:q},d),{...o,default:()=>e("div",{class:"v-switch__track",onClick:O},null),input:N=>{let{textColorClasses:K,textColorStyles:X}=N;return e("div",{class:["v-switch__thumb",K.value],style:X.value},[l.loading&&e(fe,{name:"v-switch",active:!0,color:J.value===!1?void 0:P.value},{default:I=>o.loader?o.loader(I):e(pe,{active:I.isActive,color:I.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),Ne={key:0},Ie={class:"user-profile-info w-100 d-flex"},Te={class:"mt-auto w-100"},Ae={class:"d-flex flex-wrap justify-center justify-sm-start flex-grow-1 gap-5"},Ue={class:"d-flex align-center"},Re={class:"text-primary"},He={class:"d-flex align-center"},ze={class:"text-primary"},Ee={class:"d-flex align-center"},Fe={class:"text-primary"},Le={class:"d-flex align-center"},Me={class:"text-primary"},je={class:"d-flex flex-row-reverse"},We={class:"d-flex flex-row-reverse"},ka={__name:"[tab]",setup(l){const r=he(),f=v(r.params.tab||"demographics"),o=v(),i=v([]),m=v();v(!1);const c=v(!1),B=[{title:"Demographics",icon:"mdi-account-outline",tab:"demographics"},{title:"Skills Dev & Economic Act.",icon:"mdi-lock-open-outline",tab:"skills-dev"},{title:"Residency & Migration",icon:"mdi-lock-open-outline",tab:"residency"},{title:"Birth & Marriages",icon:"mdi-bookmark-outline",tab:"birth-marriages"},{title:"Health Information",icon:"mdi-medication",tab:"health"},{title:"Socio Civi Information",icon:"mdi-account-details",tab:"sociocivi"},{title:"Teenage Pregnancy",icon:"mdi-human-pregnant",tab:"teenage-pregnancy"}];_e(()=>r.params.tab,s=>{f.value=s||"demopgrahics"});async function $(){c.value=!c.value;try{const s=await S.put(`/api/household-member/${r.query.member_id}/status`,{isDead:c.value});console.log(s.data.message),r.params.tab="death"}catch(s){console.error("Error updating member status:",s)}}async function q(){try{const s=r.params.id,n=await S.get("/api/household-list",{params:{id:r.query.household_id}});m.value=n.data}catch(s){console.log(s)}}async function P(){try{const n=await S.get("/api/household-member",{params:{member_id:r.query.member_id,household_id:r.query.household_id}});o.value=n.data;for(var s of o.value.demographic.tags.split(","))c.value=s.trim()=="dead"}catch(n){console.log(n)}}async function D(){try{const s=await S.get("/api/lookup/");i.value=s.data}catch(s){console.error("Error fetching lookups:",s)}}return be(()=>{D(),P(),q()}),(s,n)=>{const g=ve("VText");return a(o)&&a(m)?(y(),E("div",Ne,[a(m)?(y(),T(Ve,{key:0},{default:t(()=>[e(ge,{class:"d-flex align-bottom flex-sm-row flex-column justify-center gap-x-4",style:{"min-height":"160px"}},{default:t(()=>[e(V,null,{default:t(()=>[e(b,null,{default:t(()=>[e(ye,{rounded:"",size:"125",image:a(re),class:"user-profile-avatar mx-auto"},null,8,["image"])]),_:1})]),_:1}),u("div",Ie,[u("div",Te,[e(V,null,{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[e(V,{class:"mt-auto"},{default:t(()=>[e(b,null,{default:t(()=>[u("h1",null,p(a(o).demographic.lastname)+", "+p(a(o).demographic.firstname)+" "+p(a(o).demographic.middlename),1)]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(b,{cols:"10"},{default:t(()=>[u("div",Ae,[u("span",Ue,[e(g,null,{default:t(()=>[h("Brgy (Purok/Sitio):"),u("b",Re,p(a(m).Barangay),1)]),_:1})]),u("span",He,[e(g,null,{default:t(()=>[h("BSN:"),u("b",ze,p(a(m).BSN),1)]),_:1})]),u("span",Ee,[e(g,null,{default:t(()=>[h("HUSN:"),u("b",Fe,p(a(m).HUSN),1)]),_:1})]),u("span",Le,[e(g,null,{default:t(()=>[h("HSN:"),u("b",Me,p(a(m).HSN),1)]),_:1})])])]),_:1}),e(b,{cols:"2",style:{height:"100%"}},{default:t(()=>[u("div",je,[e(De,{id:"death-switch",inset:"",modelValue:a(c),"onUpdate:modelValue":n[0]||(n[0]=d=>A(c)?c.value=d:null),onClick:$},null,8,["modelValue"]),e($e,{for:"death-switch",class:"me-2 text-body-1"},{default:t(()=>[h(" Deceased ")]),_:1})]),u("div",We,[e(ke,{color:"primary"},{default:t(()=>[h(" Change Photo ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})):k("",!0),e(V,null,{default:t(()=>[e(b,{cols:"12",class:"mt-5"},{default:t(()=>[e(qe,{modelValue:a(f),"onUpdate:modelValue":n[1]||(n[1]=d=>A(f)?f.value=d:null),direction:"horizontal",class:"v-tabs-pill"},{default:t(()=>[a(c)?k("",!0):(y(),E(xe,{key:0},we(B,d=>e(j,{key:d.icon,value:d.tab,to:{name:"household-member-tab",params:{tab:d.tab},query:{member_id:a(r).query.member_id,household_id:a(r).query.household_id}}},{default:t(()=>[e(F,{size:"20",start:"",icon:d.icon},null,8,["icon"]),h(" "+p(d.title),1)]),_:2},1032,["value","to"])),64)),a(c)?(y(),T(j,{key:"mdi-coffin",value:"death",to:{name:"household-member-tab",params:{tab:"death"},query:{member_id:a(r).query.member_id,household_id:a(r).query.household_id}}},{default:t(()=>[e(F,{size:"20",start:"",icon:"mdi-coffin"}),h(" Death ")]),_:1},8,["to"])):k("",!0)]),_:1},8,["modelValue"])]),_:1}),a(o)&&a(i)?(y(),T(b,{key:0,cols:"12"},{default:t(()=>[e(Pe,{modelValue:a(f),"onUpdate:modelValue":n[2]||(n[2]=d=>A(f)?f.value=d:null),class:"disable-tab-transition",touch:!0},{default:t(()=>[e(_,{value:"demographics"},{default:t(()=>[e(ee,{member:a(o),lookups:a(i)},null,8,["member","lookups"])]),_:1}),e(_,{value:"skills-dev"},{default:t(()=>[e(te,{member:a(o),lookups:a(i)},null,8,["member","lookups"])]),_:1}),e(_,{value:"residency"},{default:t(()=>[e(oe,{member:a(o),lookups:a(i)},null,8,["member","lookups"])]),_:1}),e(_,{value:"birth-marriages"},{default:t(()=>[e(Z,{member:a(o),lookups:a(i)},null,8,["member","lookups"])]),_:1}),e(_,{value:"health"},{default:t(()=>[e(ae,{member:a(o),lookups:a(i)},null,8,["member","lookups"])]),_:1}),e(_,{value:"sociocivi"},{default:t(()=>[e(le,{member:a(o),lookups:a(i)},null,8,["member","lookups"])]),_:1}),e(_,{value:"teenage-pregnancy"},{default:t(()=>[e(se,{member:a(o),lookups:a(i)},null,8,["member","lookups"])]),_:1}),e(_,{value:"death"},{default:t(()=>[e(ie,{member:a(o),lookups:a(i)},null,8,["member","lookups"])]),_:1})]),_:1},8,["modelValue"])]),_:1})):k("",!0)]),_:1})])):k("",!0)}}};export{ka as default};
