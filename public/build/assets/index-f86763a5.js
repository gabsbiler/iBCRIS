import{_ as E}from"./SnackBar.vue_vue_type_script_setup_true_lang-011983f1.js";import{_ as R}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-969bb8dc.js";import{a as $}from"./axios-4a70c6fc.js";import{d as y,k as i,o as h,c as w,p as e,w as a,V as T,R as v,a0 as p,U as k,$ as D,q as d,aF as S,Q as A,av as I,m as _}from"./main-fc279098.js";import{V as B,a as C}from"./VRow-3d749928.js";import{V as g}from"./VTextField-43358ead.js";import{V as F}from"./VDialog-5a735d72.js";import{a as b}from"./axios-60a05fd8.js";import{V as j}from"./VDataTable-bb1ff247.js";import"./VSnackbar-549b2369.js";import"./VOverlay-a6071b3b.js";import"./forwardRefs-9d31fcaa.js";import"./VDivider-5ecb6611.js";import"./VCheckboxBtn-235bdab6.js";import"./VSelect-fb21050d.js";import"./VList-4e58f634.js";import"./ssrBoot-a8066742.js";import"./VMenu-50f2ce39.js";import"./filter-918d2526.js";import"./VTable-59daa9b2.js";const q=y({__name:"Add",emits:["finish"],setup(x,{emit:m}){const u=i(!1),o=i({name:""}),n=i(!1),r=()=>{u.value=!0},f=async()=>{n.value=!0;try{const c=await $.post("/api/household-container",{name:o.value.name});console.log(c.data)}catch(c){console.log(c)}finally{m("finish"),n.value=!1,u.value=!1}};return(c,s)=>(h(),w("div",null,[e(p,{onClick:r},{default:a(()=>[e(T,{icon:"mdi-plus"}),v(" Container ")]),_:1}),e(F,{"max-width":"400",modelValue:d(u),"onUpdate:modelValue":s[2]||(s[2]=l=>A(u)?u.value=l:null)},{default:a(()=>[e(k,{title:"Add Folder"},{default:a(()=>[e(D,null,{default:a(()=>[e(B,null,{default:a(()=>[e(C,null,{default:a(()=>[e(g,{label:"Name",modelValue:d(o).name,"onUpdate:modelValue":s[0]||(s[0]=l=>d(o).name=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(S,{class:"d-flex justify-end"},{default:a(()=>[e(p,{variant:"text",onClick:s[1]||(s[1]=l=>u.value=!1)},{default:a(()=>[v(" Cancel ")]),_:1}),e(p,{variant:"elevated",onClick:f,loading:d(n)},{default:a(()=>[v(" Add ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),Q=y({__name:"Edit",props:["item"],emits:["finish"],setup(x,{emit:m}){const u=x,o=i(!1),n=i(),r=i(!1),f=()=>{o.value=!0,n.value={...u.item}},c=async()=>{r.value=!0;try{const s=await $.put(`/api/household-container/${n.value.id}`,{name:n.value.name}),l=i(!1);r.value=!1,m("finish")}catch(s){console.log(s)}};return(s,l)=>(h(),w("div",null,[e(p,{icon:"mdi-square-edit-outline",onClick:f}),e(F,{"max-width":"400",modelValue:d(o),"onUpdate:modelValue":l[3]||(l[3]=t=>A(o)?o.value=t:null)},{default:a(()=>[e(k,{title:"Edit Folder"},{default:a(()=>[e(D,null,{default:a(()=>[e(B,null,{default:a(()=>[e(C,{cols:"12",md:"4"},{default:a(()=>[e(g,{label:"ID",modelValue:d(n).id,"onUpdate:modelValue":l[0]||(l[0]=t=>d(n).id=t),disabled:""},null,8,["modelValue"])]),_:1}),e(C,null,{default:a(()=>[e(g,{label:"Name",modelValue:d(n).name,"onUpdate:modelValue":l[1]||(l[1]=t=>d(n).name=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(S,{class:"d-flex justify-end"},{default:a(()=>[e(p,{variant:"text",onClick:l[2]||(l[2]=t=>o.value=!1)},{default:a(()=>[v(" Cancel ")]),_:1}),e(p,{variant:"elevated",onClick:c,loading:d(r)},{default:a(()=>[v(" Save ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),H={class:"d-flex justify-space-between my-2"},M=_("div",null,[_("h6",{class:"text-h6"},"Household Container")],-1),z={class:"d-flex align-center gap-x-3"},G={class:"d-flex gap-x-2"},me=y({__name:"index",setup(x){const m=i(null),u=i(),o=i(!1),n=[{title:"Name",key:"name"},{title:"Action",key:"action"}],r=async()=>{try{const l=await b.get("/api/container");u.value=l.data}catch(l){console.error("Error fetching data:",l)}},f=i(!1),c=i(),s=async l=>{f.value=!0;try{const t=await b.delete(`/api/household-container/${l}`);r(),m.value.show("success",t.data.message)}catch(t){m.value.show("error",t)}finally{f.value=!1}};return I(()=>{r()}),(l,t)=>{const N=R,U=E;return h(),w("div",null,[e(k,null,{default:a(()=>[e(D,null,{default:a(()=>[e(d(j),{headers:n,items:u.value},{top:a(()=>[_("div",H,[M,_("div",z,[e(g,{label:"Search",density:"compact",style:{"min-width":"20rem"}}),e(q,{onFinish:t[0]||(t[0]=()=>{r(),m.value.show("success","Succesfully Added")})})])])]),"item.action":a(({item:V})=>[_("div",G,[e(p,{icon:"mdi-trash-outline",loading:f.value,onClick:()=>{c.value=V.raw.id,o.value=!0,f.value=!0}},null,8,["loading","onClick"]),e(Q,{item:V.raw,onFinish:t[1]||(t[1]=()=>{r(),m.value.show("success","Edit Successful")})},null,8,["item"])])]),_:1},8,["items"])]),_:1})]),_:1}),e(N,{isDialogVisible:o.value,confirmationQuestion:"This will be deleted permanently. Are you sure?",onConfirm:t[2]||(t[2]=V=>s(c.value)),onCancel:t[3]||(t[3]=V=>o.value=!1)},null,8,["isDialogVisible"]),e(U,{ref_key:"SnackBarRef",ref:m},null,512)])}}});export{me as default};
