import{k as p,A as I,S as C,r as N,q as l,o as A,b as B,w as r,p as a,U as M,$ as E,m as c,D as _,E as f,a0 as h,Z as U,R as V,Q as F,x as W,O as H}from"./main-4a305e5b.js";import{a as O}from"./axios-d87e70fd.js";import{a as s,V as b}from"./VRow-9020e6a9.js";import{V as $}from"./VForm-fce6d192.js";import{V as y}from"./VTextField-3d54f6b0.js";import{V as m}from"./VSelect-c551eedb.js";import{V as q}from"./VSnackbar-2745a5f1.js";import"./VCounter-d47b1182.js";import"./forwardRefs-9d31fcaa.js";import"./VList-8ef07325.js";import"./ssrBoot-ed7507ec.js";import"./VDivider-f3cf817d.js";import"./dialog-transition-92d1a0d6.js";import"./VMenu-1f398e1c.js";import"./VOverlay-f2e6ad7c.js";import"./VCheckboxBtn-14eb57ab.js";import"./VChip-6f184fc2.js";const G=c("b",null," RESIDENCY ",-1),Q={class:"mt-5"},Y=c("b",null," MIGRATION ",-1),Z={class:"mt-5"},me={__name:"residency",props:{member:Array,lookups:Array},setup(S){const w=S,o=p(w.member),u=p(w.lookups),g=p(),k=p(),n=p(!1);I();const R=async()=>{o.value.demographic._15a=null,o.value.demographic._15b=null,o.value.demographic._15c=null,o.value.demographic._16a=null,o.value.demographic._16b=null,o.value.demographic._16c=null,o.value.demographic._16d=null,o.value.demographic._16e=null,o.value.demographic._16f=null},T=async()=>{var v,i;try{const d=await O.post("/api/updateMember",o.value.demographic);g.value=d.data.message,n.value=!0,k.value="success"}catch(d){console.error("There was an error updating the member:",d),g.value=((i=(v=d.response)==null?void 0:v.data)==null?void 0:i.message)||"An error occurred",n.value=!0,k.value="error"}},x=C(()=>o.value.demographic._15a!=="0000"||["1","4","5"].includes(o.value.demographic._15b)),D=C(()=>o.value.demographic._15a!=="0000");return(v,i)=>{const d=N("VText");return l(o)&&l(u)?(A(),B(b,{key:0},{default:r(()=>[a(s,{cols:"12"},{default:r(()=>[a(M,null,{default:r(()=>[a(E,null,{default:r(()=>[a($,null,{default:r(()=>[c("div",null,[a(d,{class:"text-button"},{default:r(()=>[G]),_:1}),a(b,{class:"mt-2"},{default:r(()=>[a(s,{md:"6",cols:"12"},{default:r(()=>[a(y,{modelValue:l(o).demographic._15a,"onUpdate:modelValue":i[0]||(i[0]=t=>l(o).demographic._15a=t),label:"(15a) In what year did __ started residing in this housing unit?",type:"number",min:"0000",max:"9999",step:"1"},null,8,["modelValue"])]),_:1}),_(a(s,{md:"6",cols:"12"},{default:r(()=>{var t;return[a(m,{modelValue:l(o).demographic._15b,"onUpdate:modelValue":i[1]||(i[1]=e=>l(o).demographic._15b=e),label:"(15b) Before moving in this housing unit, where did __ reside?",items:(t=l(u).filter(e=>e.column_number==="15b")[0])==null?void 0:t.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1},512),[[f,l(x)]]),_(a(s,{md:"12",cols:"12"},{default:r(()=>[a(y,{modelValue:l(o).demographic._15c,"onUpdate:modelValue":i[2]||(i[2]=t=>l(o).demographic._15c=t),label:"(15c) In what barangay/ city/ municipality did __ resides before?"},null,8,["modelValue"])]),_:1},512),[[f,l(D)]])]),_:1})]),_(c("div",Q,[a(d,{class:"text-button"},{default:r(()=>[Y]),_:1}),a(b,{class:"mt-2"},{default:r(()=>[a(s,{md:"6",cols:"12"},{default:r(()=>{var t;return[a(m,{modelValue:l(o).demographic._16a,"onUpdate:modelValue":i[3]||(i[3]=e=>l(o).demographic._16a=e),label:"(16a) Type of Resident",items:(t=l(u).filter(e=>e.column_number==="16a")[0])==null?void 0:t.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),a(s,{md:"6",cols:"12"},{default:r(()=>{var t;return[a(m,{modelValue:l(o).demographic._16b,"onUpdate:modelValue":i[4]||(i[4]=e=>l(o).demographic._16b=e),label:"(16b) What are the reason why  __ left his/her previous residence?",items:(t=l(u).filter(e=>e.column_number==="16b")[0])==null?void 0:t.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),a(s,{md:"6",cols:"12"},{default:r(()=>{var t;return[a(m,{modelValue:l(o).demographic._16c,"onUpdate:modelValue":i[5]||(i[5]=e=>l(o).demographic._16c=e),label:"(16c) Does __ plan to return to previous residence?",items:(t=l(u).filter(e=>e.column_number==="16c")[0])==null?void 0:t.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),_(a(s,{md:"6",cols:"12"},{default:r(()=>[a(y,{modelValue:l(o).demographic._16c_1,"onUpdate:modelValue":i[6]||(i[6]=t=>l(o).demographic._16c_1=t),label:"(16c) WHEN to return",type:"number",min:"1600",max:"9999",step:"1"},null,8,["modelValue"])]),_:1},512),[[f,l(o).demographic._16c==1]]),a(s,{md:"6",cols:"12"},{default:r(()=>{var t;return[a(m,{modelValue:l(o).demographic._16d,"onUpdate:modelValue":i[7]||(i[7]=e=>l(o).demographic._16d=e),label:"(16d) What are the reasons why __ transferred in this barangay?",items:(t=l(u).filter(e=>e.column_number==="16d")[0])==null?void 0:t.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),a(s,{md:"6",cols:"12"},{default:r(()=>{var t;return[a(m,{modelValue:l(o).demographic._16e,"onUpdate:modelValue":i[8]||(i[8]=e=>l(o).demographic._16e=e),label:"(16e) Is Migration permanent?",items:(t=l(u).filter(e=>e.column_number==="16e")[0])==null?void 0:t.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1}),a(s,{md:"6",cols:"12"},{default:r(()=>{var t;return[a(m,{modelValue:l(o).demographic._16f,"onUpdate:modelValue":i[9]||(i[9]=e=>l(o).demographic._16f=e),label:"(16f) How long do they intend to stay in the community?",items:(t=l(u).filter(e=>e.column_number==="16f")[0])==null?void 0:t.lookup_list.map(e=>({...e,description:e.lookup_key+" - "+e.description})),"item-title":"description","item-value":"lookup_key"},null,8,["modelValue","items"])]}),_:1})]),_:1})],512),[[f,l(x)]]),c("div",Z,[a(b,null,{default:r(()=>[a(s,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:r(()=>[a(h,{onClick:U(T,["prevent"])},{default:r(()=>[V(" Save changes ")]),_:1},8,["onClick"]),a(h,{color:"secondary",variant:"outlined",type:"reset",onClick:U(R,["prevent"])},{default:r(()=>[V(" Reset ")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),a(q,{modelValue:l(n),"onUpdate:modelValue":i[11]||(i[11]=t=>F(n)?n.value=t:null),location:"top center",variant:"flat",color:l(k)},{actions:r(()=>[a(h,{color:"white",onClick:i[10]||(i[10]=t=>n.value=!1)},{default:r(()=>[V(" Close ")]),_:1})]),default:r(()=>[V(W(l(g))+" ",1)]),_:1},8,["modelValue","color"])]),_:1})):H("",!0)}}};export{me as default};
