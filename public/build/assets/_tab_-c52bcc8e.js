import Q from"./birth-mariages-50a6b17a.js";import ee from"./death-683f3352.js";import ae from"./demographic-ca7c3a3e.js";import te from"./health-0b1280e8.js";import le from"./residency-a48b74d6.js";import oe from"./skills-dev-da4d68f4.js";import se from"./sociocivi-b67a404b.js";import ne from"./teenage-pregnancy-138b2dbd.js";import{ah as ie,b7 as re,bX as ue,ak as U,bp as de,bT as ce,Z as A,am as me,an as fe,ba as he,bb as H,bY as R,l as v,q as e,H as F,bq as pe,bZ as _e,B as be,C as ve,aG as ge,r as ye,s as a,o as V,c as L,w as t,a6 as ke,n,ae as M,af as x,y as h,Y as p,U as N,aK as Ve,$ as xe,b as z,V as E,P as T,F as we,a as Ce,aa as w}from"./main-ec2ae718.js";import{V as Se,a as j,b as Be,c as _}from"./VWindowItem-73ac75a9.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-f320825f.js";import"./VForm-0cdb3b2b.js";import"./VSnackbar-7066dbda.js";import"./avatar-1-3f757947.js";const qe=ie()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...re(),...ue()},emits:{"update:focused":o=>!0,"update:modelValue":()=>!0,"update:indeterminate":o=>!0},setup(o,i){let{attrs:f,slots:l}=i;const r=U(o,"indeterminate"),m=U(o,"modelValue"),{loaderClasses:c}=de(o),{isFocused:C,focus:S,blur:B}=ce(o),q=A(()=>typeof o.loading=="string"&&o.loading!==""?o.loading:o.color),$=me(),s=A(()=>o.id||`switch-${$}`);function u(){r.value&&(r.value=!1)}return fe(()=>{const[b,d]=he(f),[W,Le]=H.filterProps(o),[Y,Me]=R.filterProps(o),D=v();function Z(g){var y,k;g.stopPropagation(),g.preventDefault(),(k=(y=D.value)==null?void 0:y.input)==null||k.click()}return e(H,F({class:["v-switch",{"v-switch--inset":o.inset},{"v-switch--indeterminate":r.value},c.value,o.class],style:o.style},b,W,{id:s.value,focused:C.value}),{...l,default:g=>{let{id:y,messagesId:k,isDisabled:G,isReadonly:K,isValid:X}=g;return e(R,F({ref:D},Y,{modelValue:m.value,"onUpdate:modelValue":[P=>m.value=P,u],id:y.value,"aria-describedby":k.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:G.value,readonly:K.value,onFocus:S,onBlur:B},d),{...l,default:()=>e("div",{class:"v-switch__track",onClick:Z},null),input:P=>{let{textColorClasses:J,textColorStyles:O}=P;return e("div",{class:["v-switch__thumb",J.value],style:O.value},[o.loading&&e(pe,{name:"v-switch",active:!0,color:X.value===!1?void 0:q.value},{default:I=>l.loader?l.loader(I):e(_e,{active:I.isActive,color:I.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),$e={key:0},Pe={class:"w-100 mt-16 pt-6 pt-sm-0 mt-sm-0"},Ie={class:"d-flex align-center justify-center justify-sm-space-between flex-wrap gap-4"},Ne={class:"text-h5"},Te={class:"d-flex gap-x-5"},De={class:"d-flex align-center"},Ue={class:"d-flex align-center"},Ae={class:"d-flex align-center"},He={class:"d-flex align-center"},Re={class:"d-flex"},Fe={class:"d-flex flex-row-reverse"},ta={__name:"[tab]",setup(o){const i=be(),f=v(i.params.tab||"demographics"),l=v(),r=v([]),m=v();v(!1);const c=v(!1),C=[{title:"Demographics",icon:"mdi-account-outline",tab:"demographics"},{title:"Skills Dev & Economic Act.",icon:"mdi-walk",tab:"skills-dev"},{title:"Residency & Migration",icon:"mdi-home",tab:"residency"},{title:"Birth & Marriages",icon:"mdi-bookmark-outline",tab:"birth-marriages"},{title:"Health Information",icon:"mdi-medication",tab:"health"},{title:"Socio Civi Information",icon:"mdi-account-details",tab:"sociocivi"},{title:"Teenage Pregnancy",icon:"mdi-human-pregnant",tab:"teenage-pregnancy"}];ve(()=>i.params.tab,s=>{f.value=s||"demopgrahics"});async function S(){c.value=!c.value;try{const s=await w.put(`/api/household-member/${i.query.member_id}/status`,{isDead:c.value});console.log(s.data.message),c.value==!0?i.params.tab="death":i.params.tab="demographics"}catch(s){console.error("Error updating member status:",s)}}async function B(){try{const s=i.params.id,u=await w.get("/api/household-list",{params:{id:i.query.household_id}});m.value=u.data}catch(s){console.log(s)}}async function q(){try{const u=await w.get("/api/household-member",{params:{member_id:i.query.member_id,household_id:i.query.household_id}});l.value=u.data;for(var s of l.value.demographic.tags.split(","))c.value=s.trim()=="dead"}catch(u){console.log(u)}}async function $(){try{const s=await w.get("/api/lookup/");r.value=s.data}catch(s){console.error("Error fetching lookups:",s)}}return ge(()=>{$(),q(),B()}),(s,u)=>{const b=ye("VText");return a(l)&&a(m)?(V(),L("div",$e,[e(xe,null,{default:t(()=>[e(ke,{class:"d-flex align-bottom flex-sm-row flex-column justify-center gap-x-4",style:{"min-height":"100px"}},{default:t(()=>[n("div",Pe,[n("div",Ie,[e(M,null,{default:t(()=>[e(x,{cols:"12",sm:"8",class:"d-flex flex-column"},{default:t(()=>[n("h5",Ne,[n("b",null,h(a(l).demographic.lastname)+", "+h(a(l).demographic.firstname)+" "+h(a(l).demographic.middlename),1)]),n("div",Te,[n("span",De,[e(b,null,{default:t(()=>[p("Brgy (Purok/Sitio): "),n("b",null,h(a(m).Barangay),1)]),_:1})]),n("span",Ue,[e(b,null,{default:t(()=>[p("BSN: "),n("b",null,h(a(m).BSN),1)]),_:1})]),n("span",Ae,[e(b,null,{default:t(()=>[p("HUSN: "),n("b",null,h(a(m).HUSN),1)]),_:1})]),n("span",He,[e(b,null,{default:t(()=>[p("HSN: "),n("b",null,h(a(m).HSN),1)]),_:1})])]),n("div",Re,[e(b,null,{default:t(()=>[p("Complete Address: "),n("b",null,h(a(m).address),1)]),_:1})])]),_:1}),e(x,{cols:"12",sm:"4",class:"d-flex flex-column"},{default:t(()=>[n("div",Fe,[e(qe,{id:"death-switch",inset:"",modelValue:a(c),"onUpdate:modelValue":u[0]||(u[0]=d=>N(c)?c.value=d:null),onClick:S},null,8,["modelValue"]),e(Ve,{for:"death-switch",class:"me-2 text-body-1"},{default:t(()=>[p(" Deceased ")]),_:1})])]),_:1})]),_:1})])])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(x,{cols:"12",class:"mt-5"},{default:t(()=>[e(Se,{modelValue:a(f),"onUpdate:modelValue":u[1]||(u[1]=d=>N(f)?f.value=d:null),direction:"horizontal",class:"v-tabs-pill"},{default:t(()=>[a(c)?(V(),z(j,{key:"mdi-coffin",value:"death",to:{name:"household-member-tab",params:{tab:"death"},query:{member_id:a(i).query.member_id,household_id:a(i).query.household_id}}},{default:t(()=>[e(E,{size:"20",start:"",icon:"mdi-coffin"}),p(" Death ")]),_:1},8,["to"])):T("",!0),(V(),L(we,null,Ce(C,d=>e(j,{key:d.icon,value:d.tab,to:{name:"household-member-tab",params:{tab:d.tab},query:{member_id:a(i).query.member_id,household_id:a(i).query.household_id}}},{default:t(()=>[e(E,{size:"20",start:"",icon:d.icon},null,8,["icon"]),p(" "+h(d.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"])]),_:1}),a(l)&&a(r)?(V(),z(x,{key:0,cols:"12"},{default:t(()=>[e(Be,{modelValue:a(f),"onUpdate:modelValue":u[2]||(u[2]=d=>N(f)?f.value=d:null),class:"disable-tab-transition",touch:!0},{default:t(()=>[e(_,{value:"death"},{default:t(()=>[e(ee,{member:a(l),lookups:a(r)},null,8,["member","lookups"])]),_:1}),e(_,{value:"demographics"},{default:t(()=>[e(ae,{member:a(l),lookups:a(r)},null,8,["member","lookups"])]),_:1}),e(_,{value:"skills-dev"},{default:t(()=>[e(oe,{member:a(l),lookups:a(r)},null,8,["member","lookups"])]),_:1}),e(_,{value:"residency"},{default:t(()=>[e(le,{member:a(l),lookups:a(r)},null,8,["member","lookups"])]),_:1}),e(_,{value:"birth-marriages"},{default:t(()=>[e(Q,{member:a(l),lookups:a(r)},null,8,["member","lookups"])]),_:1}),e(_,{value:"health"},{default:t(()=>[e(te,{member:a(l),lookups:a(r)},null,8,["member","lookups"])]),_:1}),e(_,{value:"sociocivi"},{default:t(()=>[e(se,{member:a(l),lookups:a(r)},null,8,["member","lookups"])]),_:1}),e(_,{value:"teenage-pregnancy"},{default:t(()=>[e(ne,{member:a(l),lookups:a(r)},null,8,["member","lookups"])]),_:1})]),_:1},8,["modelValue"])]),_:1})):T("",!0)]),_:1})])):T("",!0)}}};export{ta as default};
