import{V as F}from"./VSnackbar-9d2e1910.js";import{d as C,k as d,o as k,b as R,w as a,R as v,x as T,q as r,Q as w,c as h,p as e,V as I,a0 as p,U as b,$ as D,av as $,as as j,m as _}from"./main-ee999be4.js";import{_ as q}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-b64333c5.js";import{a as B}from"./axios-4a70c6fc.js";import{V as A,a as y}from"./VRow-b84d81cd.js";import{V as x}from"./VTextField-5e129094.js";import{V as U}from"./VDialog-63c4d24e.js";import{a as S}from"./axios-60a05fd8.js";import{V as M}from"./VDataTable-c9cda628.js";import"./VOverlay-d1ced1dc.js";import"./forwardRefs-9d31fcaa.js";import"./VDivider-81cb78e4.js";import"./VCheckboxBtn-178c9cd1.js";import"./VSelect-4a1635ff.js";import"./VList-24266b93.js";import"./ssrBoot-16871ecf.js";import"./VMenu-0cb1867b.js";import"./VTable-7cca798b.js";const Q=C({__name:"SnackBar",setup(V,{expose:m}){const o=d(!1),n=d(),s=d();return m({show:(f,u)=>{n.value=f,s.value=u,o.value=!0}}),(f,u)=>(k(),R(F,{modelValue:r(o),"onUpdate:modelValue":u[0]||(u[0]=i=>w(o)?o.value=i:null),location:"top end",variant:"flat",color:r(n)},{default:a(()=>[v(T(r(s)),1)]),_:1},8,["modelValue","color"]))}}),H=C({__name:"Add",emits:["finish"],setup(V,{emit:m}){const o=d(!1),n=d({name:""}),s=d(!1),c=()=>{o.value=!0},f=async()=>{s.value=!0;try{const u=await B.post("/api/household-container",{name:n.value.name});console.log(u.data),m("finish"),o.value=!1}catch(u){console.log(u)}s.value=!1};return(u,i)=>(k(),h("div",null,[e(p,{onClick:c},{default:a(()=>[e(I,{icon:"mdi-plus"}),v(" Container ")]),_:1}),e(U,{"max-width":"400",modelValue:r(o),"onUpdate:modelValue":i[2]||(i[2]=l=>w(o)?o.value=l:null)},{default:a(()=>[e(b,{title:"Add Folder"},{default:a(()=>[e(D,null,{default:a(()=>[e(A,null,{default:a(()=>[e(y,null,{default:a(()=>[e(x,{label:"Name",modelValue:r(n).name,"onUpdate:modelValue":i[0]||(i[0]=l=>r(n).name=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e($,{class:"d-flex justify-end"},{default:a(()=>[e(p,{variant:"text",onClick:i[1]||(i[1]=l=>o.value=!1)},{default:a(()=>[v(" Cancel ")]),_:1}),e(p,{variant:"elevated",onClick:f,loading:r(s)},{default:a(()=>[v(" Add ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),z=C({__name:"Edit",props:["item"],emits:["finish"],setup(V,{emit:m}){const o=V,n=d(!1),s=d(),c=d(!1),f=()=>{n.value=!0,s.value={...o.item}},u=async()=>{c.value=!0;try{const i=await B.put(`/api/household-container/${s.value.id}`,{name:s.value.name});m("finish"),console.log(i.data)}catch(i){console.log(i)}c.value=!1};return(i,l)=>(k(),h("div",null,[e(p,{icon:"mdi-square-edit-outline",onClick:f}),e(U,{"max-width":"400",modelValue:r(n),"onUpdate:modelValue":l[3]||(l[3]=t=>w(n)?n.value=t:null)},{default:a(()=>[e(b,{title:"Edit Folder"},{default:a(()=>[e(D,null,{default:a(()=>[e(A,null,{default:a(()=>[e(y,{cols:"12",md:"4"},{default:a(()=>[e(x,{label:"ID",modelValue:r(s).id,"onUpdate:modelValue":l[0]||(l[0]=t=>r(s).id=t),disabled:""},null,8,["modelValue"])]),_:1}),e(y,null,{default:a(()=>[e(x,{label:"Name",modelValue:r(s).name,"onUpdate:modelValue":l[1]||(l[1]=t=>r(s).name=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e($,{class:"d-flex justify-end"},{default:a(()=>[e(p,{variant:"text",onClick:l[2]||(l[2]=t=>n.value=!1)},{default:a(()=>[v(" Cancel ")]),_:1}),e(p,{variant:"elevated",onClick:u,loading:r(c)},{default:a(()=>[v(" Save ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),G={class:"d-flex justify-space-between my-2"},J=_("div",null,[_("h6",{class:"text-h6"},"Household Container")],-1),K={class:"d-flex align-center gap-x-3"},L={class:"d-flex gap-x-2"},ce=C({__name:"index",setup(V){const m=d(null),o=d(),n=d(!1),s=[{title:"Name",key:"name"},{title:"Action",key:"action"}],c=async()=>{try{const l=await S.get("/api/container");o.value=l.data}catch(l){console.error("Error fetching data:",l)}},f=d(!1),u=d(),i=async l=>{f.value=!0;try{const t=await S.delete(`/api/household-container/${l}`);c(),m.value.show("success",t.data.message)}catch(t){m.value.show("error",t)}finally{f.value=!1}};return j(()=>{c()}),(l,t)=>{const N=q,E=Q;return k(),h("div",null,[e(b,null,{default:a(()=>[e(D,null,{default:a(()=>[e(r(M),{headers:s,items:o.value},{top:a(()=>[_("div",G,[J,_("div",K,[e(x,{label:"Search",density:"compact",style:{"min-width":"20rem"}}),e(H,{onFinish:t[0]||(t[0]=()=>{c(),m.value.show("success","Succesfully Added")})})])])]),"item.action":a(({item:g})=>[_("div",L,[e(p,{icon:"mdi-trash-outline",loading:f.value,onClick:()=>{u.value=g.raw.id,n.value=!0,f.value=!0}},null,8,["loading","onClick"]),e(z,{item:g.raw,onFinish:t[1]||(t[1]=()=>{c(),m.value.show("success","Edit Successful")})},null,8,["item"])])]),_:1},8,["items"])]),_:1})]),_:1}),e(N,{isDialogVisible:n.value,confirmationQuestion:"This will be deleted permanently. Are you sure?",onConfirm:t[2]||(t[2]=g=>i(u.value)),onCancel:t[3]||(t[3]=g=>n.value=!1)},null,8,["isDialogVisible"]),e(E,{ref_key:"SnackBarRef",ref:m},null,512)])}}});export{ce as default};
